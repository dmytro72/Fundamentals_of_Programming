<!DOCTYPE html>
<!-- saved from url=(0039)https://py.mit.edu/spring22/notes/style -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- This page was generated by CAT-SOOP 2022.2.0.dev19.  miau. -->

<title>Style | Course Notes | 6.009 Spring 2022</title>
<link href="./Style_files/logo.gif" rel="icon" type="image/gif">
<!-- include catsoop base css -->
<link href="./Style_files/base.css" rel="stylesheet" type="text/css">
<!-- set up JS namespace for catsoop -->
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    var catsoop = {plugins: {}};

    function toggleResponsiveHeader(){
        document.getElementsByTagName('header')[0].classList.toggle('responsive');
    }

    window.addEventListener('DOMContentLoaded', function(){
        var menu_boxes = document.getElementsByClassName('dropdown-checkbox');
        for(var i=0; i<menu_boxes.length; i++){
            menu_boxes[i].checked = false;
        }
    });

    function clearMenu(menu){
       menu.children[1].checked = false;
    }
    // @license-end
    </script>
<!-- load in katex and CAT-SOOP-specific math rendering  -->
<script src="./Style_files/katex.min.js.stažený soubor" type="text/javascript"></script>
<link href="./Style_files/katex.min.css" rel="stylesheet" type="text/css">
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    catsoop.katex_macros = {};
    catsoop.render_math = function (elt) {
        var tex = elt.innerText; // TeX Source
        var display = elt.classList.contains('cs_displaymath');
        try {
            katex.render(tex, elt, {displayMode: display, macros: catsoop.katex_macros});
        }catch(e) {
            console.log(e);
            elt.innerHTML = "<font color='red'><b>Could not parse math:</b> <tt>" + tex + "</tt></font>";
        }
        elt.classList.remove('cs_math_to_render');
    }


    catsoop.render_all_math = function (elt){
        var mathelts = elt.getElementsByClassName('cs_math_to_render');
        while(mathelts.length > 0){
            catsoop.render_math(mathelts[0]);
        }
    }
    document.addEventListener("DOMContentLoaded", function(event) {
          catsoop.render_all_math(document);
    });
    // @license-end
    </script>
<!-- load in diagram stuff -->
<script src="./Style_files/cs_diagrams.js.stažený soubor" type="text/javascript"></script>
<script type="text/javascript">
        catsoop.diagram_sources = {};
    </script>
<!-- Syntax Highlighting -->
<script src="./Style_files/highlight.min.js.stažený soubor" type="text/javascript"></script>
<script src="./Style_files/highlightjs-line-numbers.js.stažený soubor" type="text/javascript"></script><style type="text/css">.hljs-ln{border-collapse:collapse}.hljs-ln td{padding:0}.hljs-ln-n:before{content:attr(data-line-number)}</style>
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    hljs.initHighlightingOnLoad();
    window.addEventListener('DOMContentLoaded', function(){
        document.querySelectorAll('.hl code').forEach((block) => {
            hljs.highlightBlock(block);
        });
        document.querySelectorAll('code.highlight-lines').forEach(function(b){
            hljs.lineNumbersBlock(b);
            if ((b.innerHTML.trim().match(/\r\n|\r|\n/g) || []).length > 0){
                b.parentElement.style = "padding-left: 0px !important;"
                b.classList.add('hljs');
            }
        });
    });
    // @license-end
    </script>
<style>
      :root {
        --cs-base-bg-color: #039bba;
        --cs-light-bg-color: #62d5ed;
        --cs-base-font-color: #fff;
        --cs-light-font-color: #000;
    }
    </style>
<style>
.cs_top_menu_item {
  font-size: 0.88rem;
}
div.dropdown {
  -moz-transform: translateY(-1px);
}
</style>
<style>
h2.cs_section_title {
   margin-top: 3em;
}
h3.cs_section_title {
   margin-top: 3em;
}
h4.cs_section_title {
   margin-top: 2em;
}
</style>
<script src="./Style_files/cs_ajax.js.stažený soubor" type="text/javascript"></script>
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body style="margin: 0px;">
<header id="cs_header">
<div class="nav-container">
<div class="cs_header_text"><a href="https://py.mit.edu/spring22"><img src="./Style_files/logo.gif">&nbsp;6.009</a></div>
<div class="dropdown" onmouseleave="clearMenu(this);">
<label class="dropbtn cs_top_menu_item" for="cs_menu_84494260bb2b4bc1ef74fe697ea810e0">Information<span class="downarrow">▼</span></label>
<input checked="false" class="dropdown-checkbox" id="cs_menu_84494260bb2b4bc1ef74fe697ea810e0" type="checkbox">
<div class="dropdown-content">
<a class="cs_top_menu_item" href="https://py.mit.edu/spring22/info/basics">Basic Information</a>
<a class="cs_top_menu_item" href="https://py.mit.edu/spring22/info/help">Getting Help</a>
<a class="cs_top_menu_item" href="https://py.mit.edu/spring22/info/grading">Grading Policies</a>
<a class="cs_top_menu_item" href="https://py.mit.edu/spring22/info/academic_integrity">Academic Integrity</a>
<a class="cs_top_menu_item" href="https://py.mit.edu/spring22/info/infrastructure">Infrastructure</a>
<a class="cs_top_menu_item" href="https://py.mit.edu/spring22/notes">Course Notes</a>
<a class="cs_top_menu_item" href="https://py.mit.edu/spring22/info/staff">Staff List</a></div></div>
<a class="cs_top_menu_item" href="https://py.mit.edu/spring22/queue/">Help Queue</a>
<a class="cs_top_menu_item" href="https://discourse6009.mit.edu/">Forum</a>
<a class="cs_top_menu_item" href="https://py.mit.edu/spring22/progress">Progress</a>
<a class="cs_top_menu_item" href="https://py.mit.edu/spring22/notes/style?loginaction=login">Log In</a><a class="icon" href="javascript:void(0);" onclick="toggleResponsiveHeader()">☰</a>
</div>
</header>
<div class="cs_navigation cs_top_navigation" id="cs_top_navigation"><span class="line"><a href="https://py.mit.edu/spring22">Home</a></span> <span class="cs_nav_separator">/</span> <span class="line"><a href="https://py.mit.edu/spring22/notes">Course Notes</a></span> <span class="cs_nav_separator">/</span> <span class="line"><a href="https://py.mit.edu/spring22/notes/style">Style</a></span></div>
<main class="cs_body" id="cs_body">
<div class="cs_left_menu"></div>
<div class="cs_content">
<div class="cs_page_body">
<center><h1 class="cs_content_header">Course Notes: Style</h1></center>
<div class="response" id="catsoop_login_box">
<b><center>You are not logged in.</center></b><br>
If you are a current student, please <a href="https://py.mit.edu/spring22/notes/style?loginaction=login">Log
In</a> for full access to the web site.<br>Note that this link will take you to
an external site (<tt>https://shimmer.mit.edu</tt>) to authenticate, and then you will be redirected
back to this page.
</div>
<div class="callout callout-warning">
Portions of these notes are new for the Spring 2022 semester, and they are very
much a work in progress, and they'll likely be updated/augmented/refined
throughout the semester.  If you notice mistakes (big or small), if you have
questions, if anything is unclear, if there are things not covered here that
you'd like to see covered, or if you have any other suggestions; please get in
touch by posting to the <a href="https://discourse6009.mit.edu/c/course-notes" target="_blank">course notes
section of the forum</a> or sending a private message to the instructors via
the forum.
</div>
<h2>Table of Contents</h2><ul><li><a href="https://py.mit.edu/spring22/notes/style#_introduction">1) Introduction</a></li><li><a href="https://py.mit.edu/spring22/notes/style#_guidelines">2) Guidelines</a></li><ul><li><a href="https://py.mit.edu/spring22/notes/style#_don_t_repeat_yourself">2.1) Don't Repeat Yourself</a></li><ul><li><a href="https://py.mit.edu/spring22/notes/style#_the_rule_of_three">2.1.1) The Rule of Three</a></li><li><a href="https://py.mit.edu/spring22/notes/style#_boolean_laundering">2.1.2) Boolean Laundering</a></li></ul><li><a href="https://py.mit.edu/spring22/notes/style#_names_matter">2.2) Names Matter</a></li><ul><li><a href="https://py.mit.edu/spring22/notes/style#_concise_descriptive_names">2.2.1) Concise, Descriptive Names</a></li><li><a href="https://py.mit.edu/spring22/notes/style#_magic_numbers">2.2.2) Magic Numbers</a></li><li><a href="https://py.mit.edu/spring22/notes/style#_one_purpose_for_each_variable">2.2.3) One Purpose For Each Variable</a></li></ul><li><a href="https://py.mit.edu/spring22/notes/style#_documentation_matters">2.3) Documentation Matters</a></li><ul><li><a href="https://py.mit.edu/spring22/notes/style#_docstrings">2.3.1) Docstrings</a></li><li><a href="https://py.mit.edu/spring22/notes/style#_comments">2.3.2) Comments</a></li><li><a href="https://py.mit.edu/spring22/notes/style#_commented_out_code">2.3.3) Commented-out Code</a></li></ul><li><a href="https://py.mit.edu/spring22/notes/style#_generality_wins">2.4) Generality Wins</a></li><ul><li><a href="https://py.mit.edu/spring22/notes/style#_avoid_superfluous_special_cases">2.4.1) Avoid Superfluous Special Cases</a></li><li><a href="https://py.mit.edu/spring22/notes/style#_special_cases_for_the_sake_of_efficiency">2.4.2) Special Cases for the Sake of Efficiency</a></li></ul><li><a href="https://py.mit.edu/spring22/notes/style#_plan_for_change">2.5) Plan for Change</a></li><ul><li><a href="https://py.mit.edu/spring22/notes/style#_avoid_monolithic_functions">2.5.1) Avoid Monolithic Functions</a></li><li><a href="https://py.mit.edu/spring22/notes/style#_store_local_information_locally">2.5.2) Store Local Information Locally</a></li><li><a href="https://py.mit.edu/spring22/notes/style#_return_results_don_t_print_them">2.5.3) Return Results, Don't Print Them</a></li></ul></ul></ul>
<a class="anchor" name="catsoop_section_1"></a><a class="anchor" name="_introduction"></a><h2 class="cs_section_title">1) Introduction<a class="cs_permalink" href="https://py.mit.edu/spring22/notes/style#_introduction">§</a></h2>
<p>People often refer to "good style" when talking about programs/code, but,
interestingly, that word can mean a lot of different things depending on
context.  In this document, we'll try to explain what "good style" means in the
context of 6.009, as well as to provide some suggestions for incorporating
elements of "good style" into your own programs.</p>
<p>One notion of style relates to detailed character-by-character desisions about
how code is <em>formatted</em>, like how much whitespace to use when indenting, where
parentheses should go, etc.  The Python Software Foundation does publish/maintain
an official style guide called <a href="https://www.python.org/dev/peps/pep-0008/" target="_blank">PEP 8</a>, and this convention is probably the most widely-used
style convention for Python code, so it's not a bad idea to get into the habit
of following those guidelines.</p>
<p>That said, while conventions related to this notion of "style" are perhaps
worth knowing and caring about, we are not going to focus on them in 6.009 (you
are welcome to put your parentheses wherever you like so long as your programs
still work).  Rather, we'll be concerned with style from a higher-level
perspective that focuses on how your code is <em>structured</em>, rather than how it
is <em>formatted</em>.  So rather than focusing on writing code that <em>looks</em> pretty,
we'll focus on writing code that is as easy to read, write, understand, and
debug as possible.</p>
<a class="anchor" name="catsoop_section_2"></a><a class="anchor" name="_guidelines"></a><h2 class="cs_section_title">2) Guidelines<a class="cs_permalink" href="https://py.mit.edu/spring22/notes/style#_guidelines">§</a></h2>
<p>What constitutes good style and good design is, in some ways, a subjective
question, and it depends somewhat on the particular program you're trying to
write.  However, what follows are some more-or-less general guidelines, each of
which is detailed in a following section.  While there may be reasons not to
follow some of this advice in particular cases, they are generally good things
to keep in mind when writing code.</p>
<ul>
<li><strong>Don't Repeat Yourself (DRY)</strong>:
Avoid multiple fragments of code that describe redundant logic.</li>
<li><strong>Names Matter</strong>:
Choose concise, descriptive names for functions, parameters, and other
variables.</li>
<li><strong>Documentation Matters</strong>:
Use docstrings and comments to describe assumptions and document
non-obvious features of the code.</li>
<li><strong>Generality Wins</strong>:
Define logic, functions, and programs as generally as possible.</li>
<li><strong>Plan for Change</strong>:
Where possible, make programs that are (relatively) easy to change, should
the need arise.</li>
</ul>
<p>Following these guidelines will help you to:</p>
<ul>
<li>improve the readability of your code (other people <em>will</em> read your code, even if those other people are all either 6.009 staff or future versions of yourself)</li>
<li>reduce the number of errors in your code, and make it easier to spot/fix them</li>
<li>make it easier to make changes to your program if you need to</li>
<li>minimize the amount of code you write (the less code we have, the fewer opportunities there are for bugs!)</li>
</ul>
<p>Note that you do not need to come up with a stylistically perfect design on
your first try!  Designing for style takes time, experience, and practice.
When starting, it is likely a good idea to get things to work first, but to
keep an eye out for opportunities to improve stylistically as you're working
(and after you are "done"), and to be open to making changes that improve the
style of your code.  This kind of iterative approach of successively refining a
program can be really productive; and with more time and experience, you will
be able to "see" more of these stylistic improvements even before implementing
a first solution, and your plans will start to include these ideas from the
get-go.</p>
<p>With that in mind, let's explore some of these ideas in a bit more detail.</p>
<p><a class="anchor" name="catsoop_section_2_1"></a><a class="anchor" name="_don_t_repeat_yourself"></a></p><h3 class="cs_section_title">2.1) Don't Repeat Yourself<a class="cs_permalink" href="https://py.mit.edu/spring22/notes/style#_don_t_repeat_yourself">§</a></h3><p></p>
<p>Modern text editors have a nice feature called copy/paste, which makes it easy
to duplicate a piece of code you've already written.  It may often be tempting
to do this when you encounter a problem that is similar to another problem
you've already solved (the voice in your head says, <em>Hey!  I've already written
something that's almost right here; let's just copy/paste the code, tweak it a
little bit, and then we've solved the new problem!</em>).  Every experienced
developer has heard this <a href="https://en.wikipedia.org/wiki/Siren_(mythology)" target="_blank">Siren
song</a> before, but it's important to avoid this temptation.</p>
<p>The main fundamental risk that is intrinsic to duplicated code is that if you
have identical code (or very similar code) in multiple places in your program,
then noticing an error (or some other opportunity for improvement) in one copy
requires making appropriate changes to <em>all</em> copies.  Not only is this a pain,
but it's really easy to forget to make the change in one or more of the copies.</p>
<p>You should avoid duplication of code like you would avoid crossing the street
without looking. Copy/paste is an enormously tempting programming tool, and you
should feel a frisson of danger run down your spine every time you use it. The
longer the chunk of code is that you're copying, the riskier it is.</p>
<p>Keeping an eye out for duplicated code as you're writing code (as well as
after), and rearranging things to reduce the amount of code that is duplicated,
can save a lot of trouble later on.</p>
<p><a class="anchor" name="catsoop_section_2_1_1"></a><a class="anchor" name="_the_rule_of_three"></a></p><h4 class="cs_section_title">2.1.1) The Rule of Three<a class="cs_permalink" href="https://py.mit.edu/spring22/notes/style#_the_rule_of_three">§</a></h4><p></p>
<p>Not all code duplication comes from copy/paste, though.  Some cases of
duplicated code arise from manually typing the same (or very similar) things
multiple times.</p>
<p>If you find yourself re-writing the same short expression over and over, that
might be a good sign that you can store that in a variable as an intermediate
result, or construct a loop to repeatedly compute related values.   Along those
same lines, if you find yourself copy/pasting a block of code to compute a
result, that might be an opportunity to define a "helper" function for that
behavior, and to call that function multiple times rather than duplicating the
same structure multiple times.</p>
<p>Some people follow the "rule of three" (if a piece of code or a computation is
repeated three or more times, abstract that computation into a function or a
loop).  That's a reasonable approach for small pieces of code, but a better
approach for larger chunks might be the rule of <em>two</em>.</p>
<p><a class="anchor" name="catsoop_section_2_1_2"></a><a class="anchor" name="_boolean_laundering"></a></p><h4 class="cs_section_title">2.1.2) Boolean Laundering<a class="cs_permalink" href="https://py.mit.edu/spring22/notes/style#_boolean_laundering">§</a></h4><p></p>
<p>One specific case where repeated code often shows up is so-called "Boolean
laundering," which is perhaps best demonstrated by example.  Consider the
following piece of code (perhaps you've seen a structure like this in your
own code in the past!):</p>
<pre><code class="language-py hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">is_negative</span>(<span class="hljs-params">x</span>):</span>
    <span class="hljs-keyword">if</span> (x &lt; <span class="hljs-number">0</span>) == <span class="hljs-literal">True</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
</code></pre>
<p>It may not look like it since each line is actually unique, but there is
actually an awful lot of redundancy in this little example.  Let's look a
little closer and see how we could achieve the same result in a clearer and
more efficient way.</p>
<p>Importantly, the expression <code>x &lt; 0</code> will always evaluate to a <code>Boolean</code>, so it
will either be <code>True</code> or <code>False</code>.  If it is <code>True</code>, then we will enter the
first block of the conditional (since <code>True == True</code> evaluates to <code>True</code>), and
if not, then we will enter the second block of the conditional (since
<code>False == True</code> evaluates to <code>False</code>).</p>
<p>If the parenthesized portions of that last sentence sounded a little
silly/redundant to you, that's a good sign, as we're perhaps already seeing one
place to improve the code above.  Because <code>x &lt; 0</code> is a Boolean,
<code>(x &lt; 0) == True</code> will always evaluate to exactly the same thing as <code>x &lt; 0</code>.
So we could rewrite this function as follows:</p>
<pre><code class="language-py hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">is_negative</span>(<span class="hljs-params">x</span>):</span>
    <span class="hljs-keyword">if</span> x &lt; <span class="hljs-number">0</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
</code></pre>
<p>This is progress!  We've removed a bit of redundant compuatation.  But it turns
out that we can go quite a bit further.  Remember that <code>x &lt; 0</code> will evaluate to
a Boolean, so it will either evaluate to <code>True</code> or to <code>False</code>.  In the case
where it evaluates to <code>True</code>, we enter the first block of the conditional and
return <code>True</code>; and if not, we enter the second branch and instead return
<code>False</code>. So in fact we could write the following:</p>
<pre><code class="language-py hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">is_negative</span>(<span class="hljs-params">x</span>):</span>
    <span class="hljs-keyword">return</span> x &lt; <span class="hljs-number">0</span>
</code></pre>
<p><a class="anchor" name="catsoop_section_2_2"></a><a class="anchor" name="_names_matter"></a></p><h3 class="cs_section_title">2.2) Names Matter<a class="cs_permalink" href="https://py.mit.edu/spring22/notes/style#_names_matter">§</a></h3><p></p>
<p>Choosing good names for functions, parameters, and other variables will help
make your code much easier to understand.  Names of functions should describe
what they do.  Variable names should describe what they represent (not just
their types!).  Single letter names are okay in some situations, but use such
names sparingly.</p>
<p><a class="anchor" name="catsoop_section_2_2_1"></a><a class="anchor" name="_concise_descriptive_names"></a></p><h4 class="cs_section_title">2.2.1) Concise, Descriptive Names<a class="cs_permalink" href="https://py.mit.edu/spring22/notes/style#_concise_descriptive_names">§</a></h4><p></p>
<p>There is a lot of freedom in choosing variable names in the programs you write,
but it is a good idea to try to balance choosing descriptive variable names
with choosing short variable names that are reasonably easy to type.</p>
<p>Single-letter names should generally be avoided, as should names like <code>tmp</code>,
<code>temp</code>, and <code>data</code>.  Many variables are temporary, and technically every
variable is a type of data, so those names to not mean anything.  It is better
to use a longer, more descriptive name, so that your code reads clearly by
itself.  It is also generally a good idea to avoid abbreviations, since, while
their meanings may be evident to you, they may not be to someone else.</p>
<p>Good, descriptive variable names make it easier to understand code at a glance.
For example, it takes a while to figure out what the following program does,
primarily because of poorly chosen names:</p>
<pre><code class="language-py hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">a</span>(<span class="hljs-params">x</span>):</span>
     <span class="hljs-keyword">return</span> <span class="hljs-number">2</span> * A * x

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">b</span>(<span class="hljs-params">x</span>):</span>
    <span class="hljs-keyword">return</span> A * x**<span class="hljs-number">2</span>

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">c</span>(<span class="hljs-params">x</span>):</span>
    <span class="hljs-keyword">return</span> <span class="hljs-number">4</span> * b(x)

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">d</span>(<span class="hljs-params">x</span>):</span>
    <span class="hljs-keyword">return</span> <span class="hljs-number">4</span>/<span class="hljs-number">3</span> * A * x**<span class="hljs-number">3</span>
</code></pre>
<p>Its readablility could be drastically improved by choosing variable names more
carefully:</p>
<pre><code class="language-py hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">circle_circumference</span>(<span class="hljs-params">radius</span>):</span>
     <span class="hljs-keyword">return</span> <span class="hljs-number">2</span> * PI * radius

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">circle_area</span>(<span class="hljs-params">radius</span>):</span>
    <span class="hljs-keyword">return</span> PI * radius**<span class="hljs-number">2</span>

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">sphere_surface_area</span>(<span class="hljs-params">radius</span>):</span>
    <span class="hljs-keyword">return</span> <span class="hljs-number">4</span> * circle_area(radius)

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">sphere_volume</span>(<span class="hljs-params">radius</span>):</span>
    <span class="hljs-keyword">return</span> <span class="hljs-number">4</span>/<span class="hljs-number">3</span> * PI * radius**<span class="hljs-number">3</span>
</code></pre>
<p>Of course, it is possible to go too far in the direction of descriptive
variable names.  The following code, which borders on the absurd, is maybe even
more difficult to decipher than the first example:</p>
<pre><code class="language-python hljs"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">circumference_of_a_circle_given_its_radius</span>(<span class="hljs-params">the_radius_of_the_shapes_for_which_we_want_to_compute_values</span>):</span>
     <span class="hljs-keyword">return</span> <span class="hljs-number">2</span> * the_ratio_between_the_circumference_and_the_diameter_of_a_circle * the_radius_of_the_shapes_for_which_we_want_to_compute_values

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">area_of_a_circle_given_its_radius</span>(<span class="hljs-params">the_radius_of_the_shapes_for_which_we_want_to_compute_values</span>):</span>
    <span class="hljs-keyword">return</span> the_ratio_between_the_circumference_and_the_diameter_of_a_circle * the_radius_of_the_shapes_for_which_we_want_to_compute_values**<span class="hljs-number">2</span>

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">surface_area_of_a_sphere_given_its_radius</span>(<span class="hljs-params">the_radius_of_the_shapes_for_which_we_want_to_compute_values</span>):</span>
    <span class="hljs-keyword">return</span> <span class="hljs-number">4</span> * area_of_a_circle_given_its_radius(the_radius_of_the_shapes_for_which_we_want_to_compute_values)

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">volume_of_a_sphere_given_its_radius</span>(<span class="hljs-params">the_radius_of_the_shapes_for_which_we_want_to_compute_values</span>):</span>
    <span class="hljs-keyword">return</span> <span class="hljs-number">4</span>/<span class="hljs-number">3</span> * the_ratio_between_the_circumference_and_the_diameter_of_a_circle * the_radius_of_the_shapes_for_which_we_want_to_compute_values**<span class="hljs-number">3</span>
</code></pre>
<p>Interestingly, Python will happily run any of these pieces of code, and the
results will be the same if we call any of the functions!  But it's important
to write programs not only with an eye toward correctness, but also with an eye
toward clarity; one of these is far easier to understand than the others.</p>
<p><a class="anchor" name="catsoop_section_2_2_2"></a><a class="anchor" name="_magic_numbers"></a></p><h4 class="cs_section_title">2.2.2) Magic Numbers<a class="cs_permalink" href="https://py.mit.edu/spring22/notes/style#_magic_numbers">§</a></h4><p></p>
<p>Whenever possible, you should avoid the use of hard-coded constant values,
often called "<a href="https://en.wikipedia.org/wiki/Magic_number_(programming)#Unnamed_numerical_constants" target="_blank">Magic Numbers</a>" because they show up out of nowhere with no
explanation, as if by magic.  Magic numbers can make your code more prone to
bugs, as well as more difficult to read and understand.</p>
<p>For example, the following piece of code has a magic number in it:</p>
<pre><code class="language-py hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">total_cost</span>(<span class="hljs-params">raw_cost</span>):</span>
    <span class="hljs-keyword">return</span> raw_cost * <span class="hljs-number">1.0625</span>
</code></pre>
<p>Here, it's really not clear what <code>1.0625</code> means.  One way to clear this up
would be with a comment describing the nature of that number, but, particularly
if that number shows up in multiple places, a far better way is to declare that
number as a named variable with a <a href="https://py.mit.edu/spring22/notes/style#_names_matter">good, clear name</a>, and to
refer to it by that name instead.</p>
<p>In this case, making that kind of change might lead to the following code:</p>
<pre><code class="language-py hljs python">MASSACHUSETTS_TAX_RATE = <span class="hljs-number">1.0625</span>

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">total_cost</span>(<span class="hljs-params">raw_cost</span>):</span>
    <span class="hljs-keyword">return</span> raw_cost * MASSACHUSETTS_TAX_RATE
</code></pre>
<p>This kind of a change has a few advantages over using a magic number.  Among
other things:</p>
<ul>
<li>
<p>A number is less readable than a name.  It's more difficult to glance at the
first version of this function and understand its purpose.</p>
</li>
<li>
<p>Constants may need to change in the future.  Using a named variable instead of
repeating a magic number makes it easier to respond to those kinds of changes
in the future.</p>
</li>
<li>
<p>Constants may depend on other constants!  In fact, some magic numbers are the
result of computations <em>done by hand by a programmer</em> and involving other
magic numbers.  Code is far clearer and more adaptable if we represent these
numbers as named variables, and if we compute the related constants using
explicit expressions in terms of other variables.</p>
</li>
</ul>
<p>It's perhaps worth noting, too, that if you have multiple magic numbers in your
code, and those numbers are related to each other in some way, it may make
sense to store them in a list or a dictionary, rather than storing each as its
own variable.</p>
<p>&nbsp;</p>
<p>After reading this section, you may ask yourself: <em>What about things like <span class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>π</mi></mrow><annotation encoding="application/x-tex">\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathnormal" style="margin-right: 0.03588em;">π</span></span></span></span></span>
or the gravitational constant, that I know will never change?  Surely that's
fine to hard-code, since it's definitely not going to change...</em></p>
<p>While you are right that the value associated with <span class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>π</mi></mrow><annotation encoding="application/x-tex">\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathnormal" style="margin-right: 0.03588em;">π</span></span></span></span></span> is not ever going to
change, there are still at least a few reasons to prefer using a named variable
to refer to <span class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>π</mi></mrow><annotation encoding="application/x-tex">\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathnormal" style="margin-right: 0.03588em;">π</span></span></span></span></span>, as opposed to referring to it by value:</p>
<ul>
<li>
<p>As with certain other magic numbers, <span class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>π</mi></mrow><annotation encoding="application/x-tex">\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathnormal" style="margin-right: 0.03588em;">π</span></span></span></span></span> is complicated to express, so
repeating it multiple times may actually provide an opening for bugs to sneak
into your code.  For example, perhaps I put <code>3.141592653589793238462</code> in one
part of my code, but <code>3.141592853589793238462</code> in another place.  Not only is
there a bug there (the two values are actually different), but it's an
extraordinarily difficult bug to detect.</p>
</li>
<li>
<p>Along those same lines, hard-coding these values can make it difficult to
detect when you've used the wrong magic number in a given expression,
particularly when you have multiple magic numbers in your code.</p>
</li>
<li>
<p>Depending on how complicated these values are, they can clutter the code.
For example, which of the following two expressions is easier to glance at
and understand? <code>3.141592653589793238462*r**2</code>, or <code>pi*r**2</code>?</p>
</li>
<li>
<p>It may not seem like it, but these values actually also encode other
assumptions we're making, which may change later.  For example, encoded in
that magic number is the degree of precision we use to represent it; if I
wanted to change that later, I would need to change it in multiple places.</p>
</li>
</ul>
<p>&nbsp;</p>
<p>It is also important to keep in mind, when refactoring code to remove magic
numbers, that some names are better than others.  For example, the following is
not any more useful than using <code>7</code> as a magic number:</p>
<pre><code class="language-py hljs python">seven = <span class="hljs-number">7</span>
</code></pre>
<p>but the following could be useful:</p>
<pre><code class="language-py hljs python">days_per_week = <span class="hljs-number">7</span>
cards_in_hand = <span class="hljs-number">7</span>
max_number_of_players = <span class="hljs-number">7</span>
</code></pre>
<p>&nbsp;</p>
<p>This is also especially relevant for looping variables that aren't simply
counters.  While it can be tempting to use generic one-character names for
any looping variables, it is often possible to clarify things by using more
descriptive names.  For example, which of the following two pieces of code is
easier to read?</p>
<pre><code class="language-py hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">longest_word_in_file</span>(<span class="hljs-params">fname</span>):</span>
    longest = <span class="hljs-number">0</span>
    <span class="hljs-keyword">with</span> open(fname) <span class="hljs-keyword">as</span> f:
        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> f:
            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> i.split():
                <span class="hljs-keyword">if</span> len(j) &gt; longest:
                    longest = len(j)
    <span class="hljs-keyword">return</span> longest
</code></pre>
<pre><code class="language-py hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">longest_word_in_file</span>(<span class="hljs-params">fname</span>):</span>
    longest = <span class="hljs-number">0</span>
    <span class="hljs-keyword">with</span> open(fname) <span class="hljs-keyword">as</span> f:
        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> f:
            <span class="hljs-keyword">for</span> word <span class="hljs-keyword">in</span> line.split():
                <span class="hljs-keyword">if</span> len(word) &gt; longest:
                    longest = len(word)
    <span class="hljs-keyword">return</span> longest
</code></pre>
<p><a class="anchor" name="catsoop_section_2_2_3"></a><a class="anchor" name="_one_purpose_for_each_variable"></a></p><h4 class="cs_section_title">2.2.3) One Purpose For Each Variable<a class="cs_permalink" href="https://py.mit.edu/spring22/notes/style#_one_purpose_for_each_variable">§</a></h4><p></p>
<p>In general, within each function or module, distinct logical entities should
be given distinct names.  It is generally a bad idea to reuse the same name
to mean different things within a single function, for example.</p>
<p>As a rule of thumb, don't reuse parameters, and don't reuse variable names.
Variables are not a scarce resource in Python, so you can/should introduce them
freely, give them good names, and just stop using them when you stop needing
them.</p>
<p>In general, someone reading your code will likely be confused if a name that
used to mean one thing suddenly starts meaning something different a few lines
later (or if the name of a parameter is reused within the body of a function to
mean something else).</p>
<p><a class="anchor" name="catsoop_section_2_3"></a><a class="anchor" name="_documentation_matters"></a></p><h3 class="cs_section_title">2.3) Documentation Matters<a class="cs_permalink" href="https://py.mit.edu/spring22/notes/style#_documentation_matters">§</a></h3><p></p>
<p>The kindest thing you can do for future people reading your code (which
includes not only your 6.009 staff, but also your future self!) is to document
your code, and to do so judiciously.</p>
<p>In Python, there are at least two different types of documentation (docstrings
and comments), which we'll discuss in more detail below.  While these
structures can, in some sense, be used interchangeably, they are often used for
different things in practice.</p>
<p>Good documentation should not only make the code easier to understand (by
documenting non-obvious features of the code), but also safer against bugs
(because important assumptions have also been documented).</p>
<p><a class="anchor" name="catsoop_section_2_3_1"></a><a class="anchor" name="_docstrings"></a></p><h4 class="cs_section_title">2.3.1) Docstrings<a class="cs_permalink" href="https://py.mit.edu/spring22/notes/style#_docstrings">§</a></h4><p></p>
<p>One important kind of documentation is a <a href="https://www.python.org/dev/peps/pep-0257/">docstring</a>,
which is a regular Python string on the first line of a function, and which
serves as documentation for that function (classes and modules can also have
docstrings, but here we'll focus on functions).  While any string is fine, it
is conventional to use triple-quotes (<code>"""</code>) around docstrings, even for
one-line docstrings.</p>
<p>Here is a function with a (relatively) useful docstring:</p>
<pre><code class="language-py hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">zeller</span>(<span class="hljs-params">year, month, day</span>):</span>
    <span class="hljs-string">"""
    Compute the day of the week on which a particular date fell.

    Uses Zeller's algorithm to compute the result
        (see https://en.wikipedia.org/wiki/Zeller%27s_congruence)

    Parameters:
     * year (int) : the year of interest; requires year != 0; negative values
         correspond to years BC, and positive values to years AD.

     * month (int) : the month of interest; requires 1&lt;=month&lt;=12; January is
         represented by 1, and December by 12

     * day (int) : the day of interest, taken as a 1-indexed value within
         the given month; must be a day that exists within the given month

    Returns:
      A 1-character string representing the day of the week on which the given
      date fell:
        * 'M' for Monday
        * 'T' for Tuesday
        * 'W' for Wednesday
        * 'R' for Thursday
        * 'F' for Friday
        * 'S' for Saturday
        * 'U' for Sunday
    """</span>
    <span class="hljs-comment"># code here ...</span>
</code></pre>
<p>Docstrings are an important type of documentation, as they are used to document
not only the behavior/purpose of the function/module/class, but also
assumptions about the inputs and outputs.  Docstrings are also used internally
by Python; they are stored as an attribute called <code>__doc__</code> inside the object,
and they are displayed when a user invokes the <code>help</code> function on the object.
For example, <code>print(zeller.__doc__)</code> would print the docstring, and
<code>help(zeller)</code> would display the docstring.</p>
<p>The example above provides a lot of useful information about that function.  By
contrast, the following docstring (for the same function) is not quite as
useful:</p>
<pre><code class="language-py hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">zeller</span>(<span class="hljs-params">year, month, date</span>):</span>
    <span class="hljs-string">"""Return the day of the week."""</span>
    <span class="hljs-comment"># code here ...</span>
</code></pre>
<p>While we aren't going to care too much about the particular formatting of these
docstrings (there are many different conventions), including them is really
important from a stylistic perspective, and the best docstrings will generally
contain:</p>
<ul>
<li>a brief one-sentence description of the function's behavior</li>
<li>if necessary, a longer description of the behavior</li>
<li>a description of inputs (including types as well as any other expectations about those values)</li>
<li>a description of effects (including return value/type, any exceptions that might be raised, or other side effects of the function.</li>
</ul>
<p><a class="anchor" name="catsoop_section_2_3_2"></a><a class="anchor" name="_comments"></a></p><h4 class="cs_section_title">2.3.2) Comments<a class="cs_permalink" href="https://py.mit.edu/spring22/notes/style#_comments">§</a></h4><p></p>
<p>Inline comments can also be useful, particularly when they describe aspects of
the code that are not obvious.  It is often reasonable to assume that the
reader can figure out <em>what</em> the code does; it is more useful to explain <em>why</em>
(though in the case of really non-standard structures or design decisions, it
is good to leave a comment explaining how that structure accomplishes its task,
in addition to your justification for structuring things that way).</p>
<p>As you are writing code, you should document the pieces of the code that are
non-obvious, but let the code speak for itself where it can.</p>
<p>Some comments are not useful at all.  For example, direct translations of code
into English do nothing to improve understanding, and so should be avoided (it
is safe to assume your reader knows Python):</p>
<pre><code class="language-py hljs python">v = <span class="hljs-number">5</span>  <span class="hljs-comment"># set v to 5</span>
<span class="hljs-keyword">while</span> n != <span class="hljs-number">1</span>:  <span class="hljs-comment"># test whether n is 1</span>
    i += <span class="hljs-number">1</span>  <span class="hljs-comment"># increment i</span>
    mylist.append(n)  <span class="hljs-comment"># add n to mylist</span>
</code></pre>
<p>By contrast, the following comments all provide useful information that does
not otherwise exist in the code:</p>
<pre><code class="language-py hljs python">velocity = <span class="hljs-number">5</span>  <span class="hljs-comment"># meters / second</span>

sum = n*(n+<span class="hljs-number">1</span>)/<span class="hljs-number">2</span>  <span class="hljs-comment"># Gauss's formula for the sum of 1...n</span>

<span class="hljs-comment"># here we're using the approximation that sin(x) ~= x when x is small</span>
moon_diameter_meters = moon_distance_meters * apparent_angle_radians
</code></pre>
<p>And the comments in the following function describe high-level organization
that may not be apparent from the code itself:</p>
<pre><code class="language-py hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">flatten_list</span>(<span class="hljs-params">input_list</span>):</span>
    <span class="hljs-string">"""
    Create a new "flat" list from a nested list.

    For example:
        &gt;&gt;&gt; flatten_list([1, 2, [3, [4, [[[5]]]], 6, [7, 8]], 9])
        [1, 2, 3, 4, 5, 6, 7, 8, 9]

    Parameters:
     * input_list (list): a list of elements, possibly containing
         arbitrarily-nested lists

    Returns:
      A list containing all of the non-list elements from the given input_list,
      but with any nesting of lists removed.
    """</span>
    <span class="hljs-comment"># make a (shallow) copy to avoid accidentally mutating input_list</span>
    flat_list = input_list[:]
    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:
        <span class="hljs-keyword">for</span> ix, element <span class="hljs-keyword">in</span> enumerate(flat_list):
            <span class="hljs-keyword">if</span> isinstance(element, list):
                <span class="hljs-comment"># break out of the for loop, to update flat_list</span>
                <span class="hljs-keyword">break</span>
        <span class="hljs-keyword">else</span>:
            <span class="hljs-comment"># if we're here, we did not break out of the for loop (i.e., we did</span>
            <span class="hljs-comment"># not find a list inside of flat_list), so we are done!</span>
            <span class="hljs-keyword">return</span> flat_list

        <span class="hljs-comment"># because of the for/else structure, if we reach this point, we found a</span>
        <span class="hljs-comment"># nested list (ix contains the index of the nested list within</span>
        <span class="hljs-comment"># flat_list, and element contains the list itself).  So we'll replace</span>
        <span class="hljs-comment"># that list with its contents.</span>
        flat_list[ix:ix+<span class="hljs-number">1</span>] = element
</code></pre>
<p>&nbsp;</p>
<p>Good variable names can reduce the need for certain kinds of comments.  For
example, choosing the second of the following variable names is preferred, and
makes the comment from the first version unnecessary:</p>
<pre><code class="language-py hljs python">n = <span class="hljs-number">60</span>*<span class="hljs-number">60</span>*<span class="hljs-number">24</span>  <span class="hljs-comment"># number of seconds in a day</span>
</code></pre>
<pre><code class="language-py hljs python">seconds_per_day = <span class="hljs-number">60</span>*<span class="hljs-number">60</span>*<span class="hljs-number">24</span>
</code></pre>
<p><a class="anchor" name="catsoop_section_2_3_3"></a><a class="anchor" name="_commented_out_code"></a></p><h4 class="cs_section_title">2.3.3) Commented-out Code<a class="cs_permalink" href="https://py.mit.edu/spring22/notes/style#_commented_out_code">§</a></h4><p></p>
<p>During the development process, it is common to "comment out" various sections
of code while working, in order to try new things or to help with debugging.</p>
<p>This is a really great thing to do, and you should definitely do it!  But when
your code is ready (in our context, this means ready to be submitted to the web
site; in other contexts, it might mean that it's ready to be released to the
world), you should remove sections of unused code that have been commented out.</p>
<p><a class="anchor" name="catsoop_section_2_4"></a><a class="anchor" name="_generality_wins"></a></p><h3 class="cs_section_title">2.4) Generality Wins<a class="cs_permalink" href="https://py.mit.edu/spring22/notes/style#_generality_wins">§</a></h3><p></p>
<p>It is best to define functions and programs generally where possible, and to
handle specific cases by providing the proper inputs to the function.</p>
<p>For example, the <code>square</code> function is not defined in the <code>math</code> module, nor is
<code>cube</code>.  This is because they are both specific cases for the <code>pow</code> function
(exponentiation), which <em>is</em> in the <code>math</code> module.</p>
<p>Writing a single general-purpose function results in code that is easier to
read, write, and debug, in part because it helps to avoid the duplicate code
that often results from creating several specific (but related) functions.</p>
<p><a class="anchor" name="catsoop_section_2_4_1"></a><a class="anchor" name="_avoid_superfluous_special_cases"></a></p><h4 class="cs_section_title">2.4.1) Avoid Superfluous Special Cases<a class="cs_permalink" href="https://py.mit.edu/spring22/notes/style#_avoid_superfluous_special_cases">§</a></h4><p></p>
<p>Programmers are often tempted to write special code to deal with what seem like
special cases (parameters that are 0, for example, or empty lists, or empty
strings).  However, it is often the case that an existing general procedure, or
a slight variation thereof, could handle the task just as well.</p>
<p>For example, consider the following piece of code, designed to return the
length of the longest string in its input:</p>
<pre><code class="language-py hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">longest_string_length</span>(<span class="hljs-params">words</span>):</span>
    <span class="hljs-keyword">if</span> len(words) == <span class="hljs-number">0</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>

    longest = <span class="hljs-number">0</span>
    <span class="hljs-keyword">for</span> word <span class="hljs-keyword">in</span> words:
        <span class="hljs-keyword">if</span> len(word) &gt; longest:
            longest = len(word)
    <span class="hljs-keyword">return</span> longest
</code></pre>
<p>If we look closely at this function, we find that the first <code>if</code> statement is
unnecessary.  The function would behave the same way, with or without it: if
the words list is empty, then the <code>for</code> loop simply does nothing, and <code>0</code> is
returned anyway.  As such, it would be better to omit that first <code>if</code> statement
altogether.</p>
<p>This issue is also especially relevant in recursive functions, where it can be
tempting to define more bases cases than are actually necessary.  For example,
consider the following function, designed to compute the sum of all elements in
a list recursively:</p>
<pre><code class="language-py hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">sum_all</span>(<span class="hljs-params">values</span>):</span>
    <span class="hljs-keyword">if</span> len(values) == <span class="hljs-number">0</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
    <span class="hljs-keyword">elif</span> len(values) == <span class="hljs-number">1</span>:
        <span class="hljs-keyword">return</span> values[<span class="hljs-number">0</span>]
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">return</span> values[<span class="hljs-number">0</span>] + sum_all(values[<span class="hljs-number">1</span>:])
</code></pre>
<p>It turns out that the recursive case here would handle the case where <code>values</code>
has exactly one element in it just fine!  So that middle case is unnecessary,
and we could instead have only included the first base case (handling the case
of an empty <code>values</code> list).</p>
<p>&nbsp;</p>
<p>If you find yourself writing an if statement for a special case, stop what
you're doing, and think about the general-case code, either to confirm that it
can actually already handle the special case you're worrying about (which is
often true!), or try to think of a way to make your general case handle that
special case as well.</p>
<p>Writing broader, general-case code pays off. It results in shorter functions,
which is easier to understand and has fewer places for bugs to hide, and it is
also likely to be safer from bugs because it makes fewer assumptions about the
values it is working with.</p>
<p><a class="anchor" name="catsoop_section_2_4_2"></a><a class="anchor" name="_special_cases_for_the_sake_of_efficiency"></a></p><h4 class="cs_section_title">2.4.2) Special Cases for the Sake of Efficiency<a class="cs_permalink" href="https://py.mit.edu/spring22/notes/style#_special_cases_for_the_sake_of_efficiency">§</a></h4><p></p>
<p>Programmers often justify handling special cases separately with a belief that
it increases the overall performance of the method, by returning a hardcoded
answer for a special case right away.  For example, when writing a sort
algorithm, it can be tempting to check whether the size of the list is 0 or 1
at the very start of the method, since you can then return immediately with no
need to sort at all.  Or if the size is 2, just do a comparison and a possible
swap.</p>
<p>These optimizations might indeed make sense, but it is a good idea only to
implement such things when you have evidence that they would actually make an
appreciable difference in the speed of the program.</p>
<p>Continuing the example from above, if our sorting method is almost never called
with these special cases, then adding code for them just adds complexity,
overhead, and hiding-places for bugs, without any practical improvement in
performance.  As a general rule, you should try to write a clean, simple,
general-case algorithm first, and optimize it later, only if it would actually
help.</p>
<p>To quote <a href="https://en.wikipedia.org/wiki/Donald_Knuth" target="_blank">Donald Knuth</a>:</p>
<blockquote>
<p>"We should forget about small efficiencies, say about 97% of the time:
premature optimization is the root of all evil. Yet we should not pass up our
opportunities in that critical 3%"</p>
</blockquote>
<p><a class="anchor" name="catsoop_section_2_5"></a><a class="anchor" name="_plan_for_change"></a></p><h3 class="cs_section_title">2.5) Plan for Change<a class="cs_permalink" href="https://py.mit.edu/spring22/notes/style#_plan_for_change">§</a></h3><p></p>
<p>Oftentimes, when writing programs, you may find that the requirements for the
program you're writing may change (or you may find that the problem you
<em>actually</em> wanted to solve isn't the one solved by the program you're writing).
As such, whenever possible, it is important to attempt to make programs that
are as easy to change as possible, should the need arise.</p>
<p>The following are some general ideas that you can keep in mind as you work,
in order to make sure that your code is amenable to change.</p>
<p><a class="anchor" name="catsoop_section_2_5_1"></a><a class="anchor" name="_avoid_monolithic_functions"></a></p><h4 class="cs_section_title">2.5.1) Avoid Monolithic Functions<a class="cs_permalink" href="https://py.mit.edu/spring22/notes/style#_avoid_monolithic_functions">§</a></h4><p></p>
<p>It can be tempting, when writing a complicated program, to implement the entire
program in a single function.  However, it is a good idea to try to separate
logically-independent suboperations from each other (usually, into smaller
helper functions), for a few reasons:</p>
<ul>
<li>
<p>Doing so usually makes the larger program easier to reason about, since, if
these helper functions have good names, we are able to describe the large
program in terms of higher-level operations.</p>
</li>
<li>
<p>Doing so also means that if we find another use for one of the suboperations,
we can make use of that helper function elsewhere in our program without
needing to duplicate that code.</p>
</li>
<li>
<p>Smaller programs are generally easier to debug than larger programs, so
testing and debugging several small functions is generally more
straightforward than testing and debugging a single more complicated
function.</p>
</li>
</ul>
<p><a class="anchor" name="catsoop_section_2_5_2"></a><a class="anchor" name="_store_local_information_locally"></a></p><h4 class="cs_section_title">2.5.2) Store Local Information Locally<a class="cs_permalink" href="https://py.mit.edu/spring22/notes/style#_store_local_information_locally">§</a></h4><p></p>
<p>In general, it is a good idea, when information is only needed in one small
portion of a program, to make sure that that information is only available
in that one portion of the code.  Variables that are local to a function are
one example of making good use of this principle.</p>
<p>This also suggests that it is a good idea to avoid using global variables
altogether.  <a href="http://wiki.c2.com/?GlobalVariablesAreBad" target="_blank">This page</a> has some good examples of the dangers of global
variables.</p>
<p>Global variables are often used so that functions can have access to the same
piece of data across multiple calls; but there are usually better ways of doing
that, that manage to avoid some or all of the dangers associated with global
variables.  For example, if you want a single function to have access to the
same piece of data across multiple calls to that function, you could consider
using a closure.  If you want multiple functions to have access to the same
piece of data, you could consider creating a class.</p>
<p><a class="anchor" name="catsoop_section_2_5_3"></a><a class="anchor" name="_return_results_don_t_print_them"></a></p><h4 class="cs_section_title">2.5.3) Return Results, Don't Print Them<a class="cs_permalink" href="https://py.mit.edu/spring22/notes/style#_return_results_don_t_print_them">§</a></h4><p></p>
<p>Consider the following function:</p>
<pre><code class="language-py hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">count_long_words</span>(<span class="hljs-params">word_list</span>):</span>
    num_long_words = <span class="hljs-number">0</span>
    <span class="hljs-keyword">for</span> word <span class="hljs-keyword">in</span> word_list:
        <span class="hljs-keyword">if</span> len(word) &gt; LONG_WORD_LENGTH:
            num_long_words += <span class="hljs-number">1</span>
    <span class="hljs-built_in">print</span>(num_long_words)
</code></pre>
<p>This function is not particularly amenable to change (and, consequently,
programs making use of it are not particularly amenable to change), mostly
because it sends its output to the terminal via <code>print</code>.  That means that if
you want to use it in another context (where the number is needed for some
other purpose, like computation rather than human eyes) it would have to be
rearranged.</p>
<p>In general, only the highest-level parts of a program should interact with the
human user or the console. Lower-level parts should take their input as
parameters and return their output as results. The sole exception here is
debugging output, which can of course be printed to the console. But that kind
of output shouldn't be a part of your design, only a part of how you debug your
design.</p>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
catsoop.all_questions = [];
catsoop.username = null;
catsoop.this_path = 'https://py.mit.edu/spring22/notes/style';
catsoop.path_info = ['spring22', 'notes', 'style'];
catsoop.course = 'spring22';
catsoop.url_root = 'https://py.mit.edu';

// @license-end</script>
</div>
</div>
<div class="cs_right_menu"></div>
</main>
<footer>
<div class="cs_navigation cs_bottom_navigation" id="cs_bottom_navigation"><span class="line"><a href="https://py.mit.edu/spring22">Home</a></span> <span class="cs_nav_separator">/</span> <span class="line"><a href="https://py.mit.edu/spring22/notes">Course Notes</a></span> <span class="cs_nav_separator">/</span> <span class="line"><a href="https://py.mit.edu/spring22/notes/style">Style</a></span></div>
<div class="cs_footer">
      This page was last updated on Sunday February 06, 2022 at 06:33:44 PM (revision <code>a94f277e6</code>).<br>&nbsp;<br>
<div style="max-width: 600px; margin-bottom:1em; margin-left:auto; margin-right:auto;">These notes are licensed under a <a href="http://creativecommons.org/licenses/by-sa/4.0/" rel="license" target="_blank">CC&nbsp;BY-SA&nbsp;4.0</a> license.
<br>
Portions were derived from or inspired by the <a href="https://web.mit.edu/6.031/www/sp22/" target="_blank">6.031 Course Notes</a>, the <a href="https://hz.mit.edu/catsoop/6.145" target="_blank">6.145 Course Notes</a>, and the 6.01 Course Notes.
</div>
<pre class="catsooplogo" style="font-size:50%;">\            
/    /\__/\  
\__=(  o_O )=
(__________) 
 |_ |_ |_ |_ </pre>
      Powered by <a href="https://catsoop.mit.edu/" target="_blank">CAT-SOOP</a> v2022.2.0.dev19 "Highlander" (development snapshot).<br>
      CAT-SOOP is <a href="https://www.fsf.org/about/what-is-free-software" target="_blank">Free/Libre Software</a>, available under the terms<br>of the <a href="https://py.mit.edu/_util/license" target="_blank">GNU Affero General Public License, version 3</a>.<br>
<a download="" href="https://py.mit.edu/_util/source.zip" target="_blank">Download Source Code</a><br>
<a href="https://py.mit.edu/_util/jslicense.html" rel="jslicense" target="_blank">Javascript License Information</a>
</div>
</footer>



</body></html>