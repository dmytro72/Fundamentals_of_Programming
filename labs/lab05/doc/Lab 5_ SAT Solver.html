<!DOCTYPE html>
<!-- saved from url=(0038)https://py.mit.edu/spring22/labs/lab05 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- This page was generated by CAT-SOOP 2022.2.0.dev19.  miau. -->

<title>Lab 5: SAT Solver | 6.009 Spring 2022</title>
<link href="./Lab 5_ SAT Solver_files/logo.gif" rel="icon" type="image/gif">
<!-- include catsoop base css -->
<link href="./Lab 5_ SAT Solver_files/base.css" rel="stylesheet" type="text/css">
<!-- set up JS namespace for catsoop -->
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    var catsoop = {plugins: {}};

    function toggleResponsiveHeader(){
        document.getElementsByTagName('header')[0].classList.toggle('responsive');
    }

    window.addEventListener('DOMContentLoaded', function(){
        var menu_boxes = document.getElementsByClassName('dropdown-checkbox');
        for(var i=0; i<menu_boxes.length; i++){
            menu_boxes[i].checked = false;
        }
    });

    function clearMenu(menu){
       menu.children[1].checked = false;
    }
    // @license-end
    </script>
<!-- load in katex and CAT-SOOP-specific math rendering  -->
<script src="./Lab 5_ SAT Solver_files/katex.min.js.stažený soubor" type="text/javascript"></script>
<link href="./Lab 5_ SAT Solver_files/katex.min.css" rel="stylesheet" type="text/css">
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    catsoop.katex_macros = {};
    catsoop.render_math = function (elt) {
        var tex = elt.innerText; // TeX Source
        var display = elt.classList.contains('cs_displaymath');
        try {
            katex.render(tex, elt, {displayMode: display, macros: catsoop.katex_macros});
        }catch(e) {
            console.log(e);
            elt.innerHTML = "<font color='red'><b>Could not parse math:</b> <tt>" + tex + "</tt></font>";
        }
        elt.classList.remove('cs_math_to_render');
    }


    catsoop.render_all_math = function (elt){
        var mathelts = elt.getElementsByClassName('cs_math_to_render');
        while(mathelts.length > 0){
            catsoop.render_math(mathelts[0]);
        }
    }
    document.addEventListener("DOMContentLoaded", function(event) {
          catsoop.render_all_math(document);
    });
    // @license-end
    </script>
<!-- load in diagram stuff -->
<script src="./Lab 5_ SAT Solver_files/cs_diagrams.js.stažený soubor" type="text/javascript"></script>
<script type="text/javascript">
        catsoop.diagram_sources = {};
    </script>
<!-- Syntax Highlighting -->
<script src="./Lab 5_ SAT Solver_files/highlight.min.js.stažený soubor" type="text/javascript"></script>
<script src="./Lab 5_ SAT Solver_files/highlightjs-line-numbers.js.stažený soubor" type="text/javascript"></script><style type="text/css">.hljs-ln{border-collapse:collapse}.hljs-ln td{padding:0}.hljs-ln-n:before{content:attr(data-line-number)}</style>
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    hljs.initHighlightingOnLoad();
    window.addEventListener('DOMContentLoaded', function(){
        document.querySelectorAll('.hl code').forEach((block) => {
            hljs.highlightBlock(block);
        });
        document.querySelectorAll('code.highlight-lines').forEach(function(b){
            hljs.lineNumbersBlock(b);
            if ((b.innerHTML.trim().match(/\r\n|\r|\n/g) || []).length > 0){
                b.parentElement.style = "padding-left: 0px !important;"
                b.classList.add('hljs');
            }
        });
    });
    // @license-end
    </script>
<style>
      :root {
        --cs-base-bg-color: #039bba;
        --cs-light-bg-color: #62d5ed;
        --cs-base-font-color: #fff;
        --cs-light-font-color: #000;
    }
    </style>
<style>
.cs_top_menu_item {
  font-size: 0.88rem;
}
div.dropdown {
  -moz-transform: translateY(-1px);
}
</style>
<script src="./Lab 5_ SAT Solver_files/cs_ajax.js.stažený soubor" type="text/javascript"></script>
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body style="margin: 0px;">
<header id="cs_header">
<div class="nav-container">
<div class="cs_header_text"><a href="https://py.mit.edu/spring22"><img src="./Lab 5_ SAT Solver_files/logo.gif">&nbsp;6.009</a></div>
<div class="dropdown" onmouseleave="clearMenu(this);">
<label class="dropbtn cs_top_menu_item" for="cs_menu_84494260bb2b4bc1ef74fe697ea810e0">Information<span class="downarrow">▼</span></label>
<input checked="false" class="dropdown-checkbox" id="cs_menu_84494260bb2b4bc1ef74fe697ea810e0" type="checkbox">
<div class="dropdown-content">
<a class="cs_top_menu_item" href="https://py.mit.edu/spring22/info/basics">Basic Information</a>
<a class="cs_top_menu_item" href="https://py.mit.edu/spring22/info/help">Getting Help</a>
<a class="cs_top_menu_item" href="https://py.mit.edu/spring22/info/grading">Grading Policies</a>
<a class="cs_top_menu_item" href="https://py.mit.edu/spring22/info/academic_integrity">Academic Integrity</a>
<a class="cs_top_menu_item" href="https://py.mit.edu/spring22/info/infrastructure">Infrastructure</a>
<a class="cs_top_menu_item" href="https://py.mit.edu/spring22/notes">Course Notes</a>
<a class="cs_top_menu_item" href="https://py.mit.edu/spring22/info/staff">Staff List</a></div></div>
<a class="cs_top_menu_item" href="https://py.mit.edu/spring22/queue/">Help Queue</a>
<a class="cs_top_menu_item" href="https://discourse6009.mit.edu/">Forum</a>
<a class="cs_top_menu_item" href="https://py.mit.edu/spring22/progress">Progress</a>
<a class="cs_top_menu_item" href="https://py.mit.edu/spring22/labs/lab05?loginaction=login">Log In</a><a class="icon" href="javascript:void(0);" onclick="toggleResponsiveHeader()">☰</a>
</div>
</header>
<div class="cs_navigation cs_top_navigation" id="cs_top_navigation"><span class="line"><a href="https://py.mit.edu/spring22">Home</a></span> <span class="cs_nav_separator">/</span> <span class="line"><a href="https://py.mit.edu/spring22/labs/lab05">Lab 5: SAT Solver</a></span></div>
<main class="cs_body" id="cs_body">
<div class="cs_left_menu"></div>
<div class="cs_content">
<div class="cs_page_body">
<center><h1 class="cs_content_header">Lab 5: SAT Solver</h1></center>
<div class="response" id="catsoop_login_box">
<b><center>You are not logged in.</center></b><br>
If you are a current student, please <a href="https://py.mit.edu/spring22/labs/lab05?loginaction=login">Log
In</a> for full access to the web site.<br>Note that this link will take you to
an external site (<tt>https://shimmer.mit.edu</tt>) to authenticate, and then you will be redirected
back to this page.
</div>
<h2>Table of Contents</h2><ul><li><a href="https://py.mit.edu/spring22/labs/lab05#_preparation">1) Preparation</a></li><li><a href="https://py.mit.edu/spring22/labs/lab05#_introduction">2) Introduction</a></li><ul><li><a href="https://py.mit.edu/spring22/labs/lab05#_solving_the_puzzle">2.1) Solving the Puzzle</a></li><li><a href="https://py.mit.edu/spring22/labs/lab05#_conjunctive_normal_form">2.2) Conjunctive Normal Form</a></li><ul><li><a href="https://py.mit.edu/spring22/labs/lab05#_python_representation">2.2.1) Python Representation</a></li><li><a href="https://py.mit.edu/spring22/labs/lab05#_examples">2.2.2) Examples</a></li></ul></ul><li><a href="https://py.mit.edu/spring22/labs/lab05#_sat_solver">3) SAT Solver</a></li><ul><li><a href="https://py.mit.edu/spring22/labs/lab05#_the_naive_approach">3.1) The Naive Approach</a></li><li><a href="https://py.mit.edu/spring22/labs/lab05#_a_nicer_approach">3.2) A Nicer Approach</a></li><ul><li><a href="https://py.mit.edu/spring22/labs/lab05#_updating_expressions">3.2.1) Updating Expressions</a></li><li><a href="https://py.mit.edu/spring22/labs/lab05#_examples_2">3.2.2) Examples</a></li></ul></ul><li><a href="https://py.mit.edu/spring22/labs/lab05#_implementation">4) Implementation</a></li><li><a href="https://py.mit.edu/spring22/labs/lab05#_optimizations">5) Optimizations</a></li><li><a href="https://py.mit.edu/spring22/labs/lab05#_scheduling_by_reduction">6) Scheduling by Reduction</a></li><ul><li><a href="https://py.mit.edu/spring22/labs/lab05#_encoding_the_rules">6.1) Encoding the Rules</a></li><ul><li><a href="https://py.mit.edu/spring22/labs/lab05#_students_only_in_desired_sessions">6.1.1) Students Only In Desired Sessions</a></li><li><a href="https://py.mit.edu/spring22/labs/lab05#_each_student_in_exactly_one_session">6.1.2) Each Student In Exactly One Session</a></li><li><a href="https://py.mit.edu/spring22/labs/lab05#_no_oversubscribed_sessions">6.1.3) No Oversubscribed Sessions</a></li></ul></ul><li><a href="https://py.mit.edu/spring22/labs/lab05#_ui">7) UI</a></li><li><a href="https://py.mit.edu/spring22/labs/lab05#_code_submission">8) Code Submission</a></li><li><a href="https://py.mit.edu/spring22/labs/lab05#_checkoff">9) Checkoff</a></li></ul>
<a class="anchor" name="catsoop_section_1"></a><a class="anchor" name="_preparation"></a><h2 class="cs_section_title">1) Preparation<a class="cs_permalink" href="https://py.mit.edu/spring22/labs/lab05#_preparation">§</a></h2>
<p>This lab assumes you have Python 3.6 or later installed on your machine (3.10
recommended).</p>
<p>The following file contains code and other resources as a starting point for
this lab: <a download="lab05.zip" href="https://py.mit.edu/spring22/lab_distribution.zip?path=%5B%22spring22%22%2C+%22labs%22%2C+%22lab05%22%5D"><tt>lab05.zip</tt></a></p>
<p>Most of your changes should be made to <code>lab.py</code>, which you will submit at the
end of this lab.  Importantly, you should not add any imports to the file.</p>
<p>You can also see and participate in online discussion about this lab in the <a href="https://py.mit.edu/forum/c/labs" target="_blank">"Labs"
Category</a> in the forum.</p>
<p>This lab is worth a total of 4 points.</p>
<p>Note that passing all of the tests on the server will require that your code runs reasonably efficiently.</p>
<p><strong>The questions in sections 1 and 2 are due before lecture, at 11:00am Eastern on Monday, 14 March.
The other questions on this page (including your code submission) are due at
5pm Eastern on Friday, 18 March.  The checkoff is due after the spring break, at 10pm Eastern on Wednesday, 30 March.</strong></p>
<div class="callout callout-warning"><div class="callout-title">Your Checkoff This Week</div>
<p>You are not logged in.  Please log in to see information about your checkoff for this lab.</p>
</div>
<a class="anchor" name="catsoop_section_2"></a><a class="anchor" name="_introduction"></a><h2 class="cs_section_title">2) Introduction<a class="cs_permalink" href="https://py.mit.edu/spring22/labs/lab05#_introduction">§</a></h2>
<p>From recreational mathematics to standardized tests, one popular problem genre
is <i>logic puzzles</i>, where some space of possible choices is described
using a list of rules.  A solution to the puzzle is a choice (often the one
unique choice) that obeys the rules.  This lab should give you the tools to
make short work of any of those puzzles, assuming you have your trusty Python
interpreter.</p>
<p>Here's an example of the kind of logic puzzle we have in mind.</p>
<div class="question">
The 6.009 staff were pleased to learn that grateful alumni had donated cupcakes for last week's staff meeting.
Unfortunately, the cupcakes were gone when the staff showed up for the meeting!
Who ate the cupcakes?
<ol>
<li>The suspects are Mike, Saman, Charles, Jonathan, and Tim the Beaver.</li>
<li>Whichever suspect ate any of the cupcakes must have eaten <i>all</i> of them.</li>
<li>The cupcakes included exactly two of the flavors chocolate, vanilla, and pickles.</li>
<li>Saman only eats pickles-flavored cupcakes.</li>
<li>Years ago, Charles and Jonathan made a pact that, whenever either of them eats cupcakes, they must share with the other one.</li>
<li>Mike feels strongly about flavor fairness and will only eat cupcakes if he can include at least 3 different flavors.</li>
</ol>
</div>
<p>Let's translate the problem into <b><a href="https://en.wikipedia.org/wiki/Boolean_algebra">Boolean logic</a></b>,
where we have a set of variables, each of which takes the value <code>True</code> or <code>False</code>.
We write the rules as conditions over these variables.  Here is each rule as a
Python expression over Boolean variables.  We include one variable for the
guilt of each suspect, plus one variable for each potential flavor of cupcake.</p>
<p>In reading these rules, note that Python <code>not</code> binds more tightly than <code>or</code>, so
that <code>not p or q</code> is the same as <code>(not p) or q</code>.  It's also fine not to follow
every last detail, as this rule set is just presented as one example of a
general idea!</p>
<p>You may also find that some of our encoding choices don't match what you would
come up with, such that our choices lead to longer or less-comprehensible
rules.  We are actually intentionally forcing ourselves to adhere to a
restricted format that we will explain shortly and that will ultimately make
the job of <em>solving</em> these kinds of problems more straightforward.</p>
<pre><code class="language-python hljs">rule1 = (saman <span class="hljs-keyword">or</span> mike <span class="hljs-keyword">or</span> charles <span class="hljs-keyword">or</span> jonathan <span class="hljs-keyword">or</span> tim)
<span class="hljs-comment"># At least one of them must have committed the crime!  Here, one of these</span>
<span class="hljs-comment"># variables being True represents that person having committed the crime.</span>


rule2 = ((<span class="hljs-keyword">not</span> saman <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> mike)
     <span class="hljs-keyword">and</span> (<span class="hljs-keyword">not</span> saman <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> charles)
     <span class="hljs-keyword">and</span> (<span class="hljs-keyword">not</span> saman <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> jonathan)
     <span class="hljs-keyword">and</span> (<span class="hljs-keyword">not</span> saman <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> tim)
     <span class="hljs-keyword">and</span> (<span class="hljs-keyword">not</span> mike <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> charles)
     <span class="hljs-keyword">and</span> (<span class="hljs-keyword">not</span> mike <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> jonathan)
     <span class="hljs-keyword">and</span> (<span class="hljs-keyword">not</span> mike <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> tim)
     <span class="hljs-keyword">and</span> (<span class="hljs-keyword">not</span> charles <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> jonathan)
     <span class="hljs-keyword">and</span> (<span class="hljs-keyword">not</span> charles <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> tim)
     <span class="hljs-keyword">and</span> (<span class="hljs-keyword">not</span> jonathan <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> tim))
<span class="hljs-comment"># At most one of the suspects is guilty.  In other words, for any pair of</span>
<span class="hljs-comment"># suspects, at least one must be NOT guilty (so that we cannot possibly find</span>
<span class="hljs-comment"># two or more people guilty).</span>

<span class="hljs-comment"># Together, rule2 and rule1 guarantee that exactly one suspect is guilty.</span>


rule3 = ((<span class="hljs-keyword">not</span> chocolate <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> vanilla <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> pickles)
     <span class="hljs-keyword">and</span> (chocolate <span class="hljs-keyword">or</span> vanilla)
     <span class="hljs-keyword">and</span> (chocolate <span class="hljs-keyword">or</span> pickles)
     <span class="hljs-keyword">and</span> (vanilla <span class="hljs-keyword">or</span> pickles))
<span class="hljs-comment"># Here is our rule that the cupcakes included exactly two of the flavors.  Put</span>
<span class="hljs-comment"># another way: we can't have all flavors present; and, additionally, among</span>
<span class="hljs-comment"># any pair of flavors, at least one was present.</span>


rule4 = ((<span class="hljs-keyword">not</span> saman <span class="hljs-keyword">or</span> pickles)
     <span class="hljs-keyword">and</span> (<span class="hljs-keyword">not</span> saman <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> chocolate)
     <span class="hljs-keyword">and</span> (<span class="hljs-keyword">not</span> saman <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> vanilla))
<span class="hljs-comment"># If Saman is guilty, this will evaluate to True only if only pickles-flavored</span>
<span class="hljs-comment"># cupcakes were present.  If Saman is not guilty, this will always evaluate to</span>
<span class="hljs-comment"># True.  This is our way of encoding the fact that, if Saman is guilty, only</span>
<span class="hljs-comment"># pickles-flavored cupcakes must have been present.</span>


rule5 = (<span class="hljs-keyword">not</span> charles <span class="hljs-keyword">or</span> jonathan) <span class="hljs-keyword">and</span> (<span class="hljs-keyword">not</span> jonathan <span class="hljs-keyword">or</span> charles)
<span class="hljs-comment"># If Charles ate cupcakes without sharing with Jonathan, the first case will fail</span>
<span class="hljs-comment"># to hold.  Likewise for Jonathan eating without sharing.  Since Charles and Jonathan</span>
<span class="hljs-comment"># only eat cupcakes together, this rule excludes the possibility that only one</span>
<span class="hljs-comment"># of them ate cupcakes.</span>


rule6 = ((<span class="hljs-keyword">not</span> mike <span class="hljs-keyword">or</span> chocolate)
     <span class="hljs-keyword">and</span> (<span class="hljs-keyword">not</span> mike <span class="hljs-keyword">or</span> vanilla)
     <span class="hljs-keyword">and</span> (<span class="hljs-keyword">not</span> mike <span class="hljs-keyword">or</span> pickles))
<span class="hljs-comment"># If Mike is the culprit and we left out a flavor, the corresponding case here</span>
<span class="hljs-comment"># will fail to hold.  So this rule encodes the restriction that Mike can only</span>
<span class="hljs-comment"># be guilty if all three types of cupcakes are present.</span>


satisfied = rule1 <span class="hljs-keyword">and</span> rule2 <span class="hljs-keyword">and</span> rule3 <span class="hljs-keyword">and</span> rule4 <span class="hljs-keyword">and</span> rule5 <span class="hljs-keyword">and</span> rule6
</code></pre>
<p>The piece of code above is a Python program that will tell us whether a given
assignment is consistent with the rules we have laid out.  For example, if we
had set the following variables (representing the hypothesis that Saman was
guilty and that only Pickles-flavored cupcakes were present):</p>
<pre><code class="language-py hljs python">saman = <span class="hljs-literal">True</span>
mike = <span class="hljs-literal">False</span>
charles = <span class="hljs-literal">False</span>
jonathan = <span class="hljs-literal">False</span>
tim = <span class="hljs-literal">False</span>

pickles = <span class="hljs-literal">True</span>
vanilla = <span class="hljs-literal">False</span>
chocolate = <span class="hljs-literal">False</span>
</code></pre>
<p>and then run the code, the <code>satisfied</code> variable would be set to <code>False</code> (since
<code>rule3</code> would be <code>False</code>), indicating that this assignment did not satisfy the
rules we had set out.</p>
<p>
<!--START question satisfied1 -->
</p><div class="question question-pythonic" id="cs_qdiv_satisfied1" style="position: static">
<div id="satisfied1_rendered_question">
<p>If we instead try the following bindings, what is the result of <code>satisfied</code>?  You can test this by running the code on your own machine!</p>
<pre><code class="language-python hljs">saman = <span class="hljs-literal">False</span>
mike = <span class="hljs-literal">False</span>
charles = <span class="hljs-literal">False</span>
jonathan = <span class="hljs-literal">False</span>
tim = <span class="hljs-literal">True</span>

pickles = <span class="hljs-literal">False</span>
vanilla = <span class="hljs-literal">True</span>
chocolate = <span class="hljs-literal">False</span>
</code></pre>
<input id="satisfied1" name="satisfied1" size="50" type="text" value="">
</div><div>
<span id="satisfied1_buttons"></span>
<span id="satisfied1_loading_wrapper">
<span id="satisfied1_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="></span>
</span>
<span id="satisfied1_score_display"></span>
<div class="nsubmits_left" id="satisfied1_nsubmits_left"></div></div>
<div id="satisfied1_solution_container">
<div id="satisfied1_solution">
</div>
<div id="satisfied1_solution_explanation">
</div>
</div>
<div id="satisfied1_message"></div>
</div>
<!--END question satisfied1 -->
<p></p>
<p><a class="anchor" name="catsoop_section_2_1"></a><a class="anchor" name="_solving_the_puzzle"></a></p><h3 class="cs_section_title">2.1) Solving the Puzzle<a class="cs_permalink" href="https://py.mit.edu/spring22/labs/lab05#_solving_the_puzzle">§</a></h3><p></p>
<p>While code like the above could be useful in certain situations, it doesn't
help us <em>solve</em> the problem (it only helps us check a possible solution).  In this lab,
we'll look at the problem of <a href="https://en.wikipedia.org/wiki/Boolean_satisfiability_problem">Boolean
Satisfiability</a>: our goal will be, given a description of Boolean variables
and constraints on them (like that given above), to find a set of assignments
that satisfies all of the given constraints.</p>
<p><a class="anchor" name="catsoop_section_2_2"></a><a class="anchor" name="_conjunctive_normal_form"></a></p><h3 class="cs_section_title">2.2) Conjunctive Normal Form<a class="cs_permalink" href="https://py.mit.edu/spring22/labs/lab05#_conjunctive_normal_form">§</a></h3><p></p>
<p>In encoding the puzzle, we followed a very regular structure in our Boolean
formulas, one important enough to have a common name: <b><a href="https://en.wikipedia.org/wiki/Conjunctive_normal_form">conjunctive normal
form (CNF)</a></b>.</p>
<p>In this form, we say that a <i>literal</i> is a variable or the <code>not</code> of a variable.
Then a <i>clause</i> is a multi-way <code>or</code> of literals, and a CNF <em>formula</em> is a multi-way <code>and</code> of clauses.</p>
<p>It's okay if this representation does not feel completely natural.  Some people
find this form to be "backwards" from the way they would otherwise think about
these constraints.  However, forcing our constraints to be in this form can
simplify the problem of implementing our solver, compared to other
representations we could choose.  We'll try in this writeup to help you with
the pieces of the lab involving converting expressions to CNF.</p>
<p><a class="anchor" name="catsoop_section_2_2_1"></a><a class="anchor" name="_python_representation"></a></p><h4 class="cs_section_title">2.2.1) Python Representation<a class="cs_permalink" href="https://py.mit.edu/spring22/labs/lab05#_python_representation">§</a></h4><p></p>
<p>When we commit to representing problems in CNF, we can represent:</p>
<ul>
<li>a <em>variable</em> as a Python string</li>
<li>a <em>literal</em> as a pair (a tuple), containing a variable and a Boolean value (<code>False</code> if <code>not</code> appears in this literal, <code>True</code> otherwise)</li>
<li>a <em>clause</em> as a list of literals</li>
<li>a <em>formula</em> as a list of clauses</li>
</ul>
<p>For example, our puzzle from above can be encoded as follows, where again it is
OK not to read through every last detail.</p>
<pre><code class="language-python hljs">rule1 = [[(<span class="hljs-string">'saman'</span>, <span class="hljs-literal">True</span>), (<span class="hljs-string">'mike'</span>, <span class="hljs-literal">True</span>), (<span class="hljs-string">'charles'</span>, <span class="hljs-literal">True</span>),
          (<span class="hljs-string">'jonathan'</span>, <span class="hljs-literal">True</span>), (<span class="hljs-string">'tim'</span>, <span class="hljs-literal">True</span>)]]

rule2 = [[(<span class="hljs-string">'saman'</span>, <span class="hljs-literal">False</span>), (<span class="hljs-string">'mike'</span>, <span class="hljs-literal">False</span>)],
         [(<span class="hljs-string">'saman'</span>, <span class="hljs-literal">False</span>), (<span class="hljs-string">'charles'</span>, <span class="hljs-literal">False</span>)],
         [(<span class="hljs-string">'saman'</span>, <span class="hljs-literal">False</span>), (<span class="hljs-string">'jonathan'</span>, <span class="hljs-literal">False</span>)],
         [(<span class="hljs-string">'saman'</span>, <span class="hljs-literal">False</span>), (<span class="hljs-string">'tim'</span>, <span class="hljs-literal">False</span>)],
         [(<span class="hljs-string">'mike'</span>, <span class="hljs-literal">False</span>), (<span class="hljs-string">'charles'</span>, <span class="hljs-literal">False</span>)],
         [(<span class="hljs-string">'mike'</span>, <span class="hljs-literal">False</span>), (<span class="hljs-string">'jonathan'</span>, <span class="hljs-literal">False</span>)],
         [(<span class="hljs-string">'mike'</span>, <span class="hljs-literal">False</span>), (<span class="hljs-string">'tim'</span>, <span class="hljs-literal">False</span>)],
         [(<span class="hljs-string">'charles'</span>, <span class="hljs-literal">False</span>), (<span class="hljs-string">'jonathan'</span>, <span class="hljs-literal">False</span>)],
         [(<span class="hljs-string">'charles'</span>, <span class="hljs-literal">False</span>), (<span class="hljs-string">'tim'</span>, <span class="hljs-literal">False</span>)],
         [(<span class="hljs-string">'jonathan'</span>, <span class="hljs-literal">False</span>), (<span class="hljs-string">'tim'</span>, <span class="hljs-literal">False</span>)]]


rule3 = [[(<span class="hljs-string">'chocolate'</span>, <span class="hljs-literal">False</span>), (<span class="hljs-string">'vanilla'</span>, <span class="hljs-literal">False</span>), (<span class="hljs-string">'pickles'</span>, <span class="hljs-literal">False</span>)],
         [(<span class="hljs-string">'chocolate'</span>, <span class="hljs-literal">True</span>), (<span class="hljs-string">'vanilla'</span>, <span class="hljs-literal">True</span>)],
         [(<span class="hljs-string">'chocolate'</span>, <span class="hljs-literal">True</span>), (<span class="hljs-string">'pickles'</span>, <span class="hljs-literal">True</span>)],
         [(<span class="hljs-string">'vanilla'</span>, <span class="hljs-literal">True</span>), (<span class="hljs-string">'pickles'</span>, <span class="hljs-literal">True</span>)]]

rule4 = [[(<span class="hljs-string">'saman'</span>, <span class="hljs-literal">False</span>), (<span class="hljs-string">'pickles'</span>, <span class="hljs-literal">True</span>)],
         [(<span class="hljs-string">'saman'</span>, <span class="hljs-literal">False</span>), (<span class="hljs-string">'chocolate'</span>, <span class="hljs-literal">False</span>)],
         [(<span class="hljs-string">'saman'</span>, <span class="hljs-literal">False</span>), (<span class="hljs-string">'vanilla'</span>, <span class="hljs-literal">False</span>)]]

rule5 = [[(<span class="hljs-string">'charles'</span>, <span class="hljs-literal">False</span>), (<span class="hljs-string">'jonathan'</span>, <span class="hljs-literal">True</span>)],
         [(<span class="hljs-string">'jonathan'</span>, <span class="hljs-literal">False</span>), (<span class="hljs-string">'charles'</span>, <span class="hljs-literal">True</span>)]]

rule6 = [[(<span class="hljs-string">'mike'</span>, <span class="hljs-literal">False</span>), (<span class="hljs-string">'chocolate'</span>, <span class="hljs-literal">True</span>)],
         [(<span class="hljs-string">'mike'</span>, <span class="hljs-literal">False</span>), (<span class="hljs-string">'vanilla'</span>, <span class="hljs-literal">True</span>)],
         [(<span class="hljs-string">'mike'</span>, <span class="hljs-literal">False</span>), (<span class="hljs-string">'pickles'</span>, <span class="hljs-literal">True</span>)]]

rules = rule1 + rule2 + rule3 + rule4 + rule5 + rule6
</code></pre>
<p>When we have formulated things in this way, the list <code>rules</code> contains a formula
that encodes all of the constraints we need to satisfy.</p>
<p><a class="anchor" name="catsoop_section_2_2_2"></a><a class="anchor" name="_examples"></a></p><h4 class="cs_section_title">2.2.2) Examples<a class="cs_permalink" href="https://py.mit.edu/spring22/labs/lab05#_examples">§</a></h4><p></p>
<p>
<!--START question q000000 -->
</p><div class="question question-pythonliteral" id="cs_qdiv_q000000" style="position: static">
<div id="q000000_rendered_question">
Consider this Boolean formula.
<pre><code class="language-python hljs">c <span class="hljs-keyword">and</span> (a <span class="hljs-keyword">or</span> d) <span class="hljs-keyword">and</span> (<span class="hljs-keyword">not</span> b <span class="hljs-keyword">or</span> a) <span class="hljs-keyword">and</span> (<span class="hljs-keyword">not</span> a <span class="hljs-keyword">or</span> e <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> d)
</code></pre>
<p>Write an equivalent CNF formula (as a Python literal), in the format used in the lab (e.g., <code>[[('a', True), ('b', False)], [('c', True)]]</code>).<br></p><input id="q000000" name="q000000" size="70" type="text" value="">
</div><div>
<span id="q000000_buttons"></span>
<span id="q000000_loading_wrapper">
<span id="q000000_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="></span>
</span>
<span id="q000000_score_display"></span>
<div class="nsubmits_left" id="q000000_nsubmits_left"></div></div>
<div id="q000000_solution_container">
<div id="q000000_solution">
</div>
<div id="q000000_solution_explanation">
</div>
</div>
<div id="q000000_message"></div>
</div>
<!--END question q000000 -->
<p></p>
<p>Now, consider this Boolean formula (which is <strong>not</strong> in CNF).</p>
<pre><code class="language-python hljs">(a <span class="hljs-keyword">and</span> b) <span class="hljs-keyword">or</span> (c <span class="hljs-keyword">and</span> <span class="hljs-keyword">not</span> d)
</code></pre>
<p>This expression looks innocuous, but translating it into CNF is actually a
nontrivial exercise!  It turns out, though, that this expression does have a
representation in CNF as:</p>
<pre><code class="language-python hljs">(a <span class="hljs-keyword">or</span> c) <span class="hljs-keyword">and</span> (a <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> d) <span class="hljs-keyword">and</span> (b <span class="hljs-keyword">or</span> c) <span class="hljs-keyword">and</span> (b <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> d)
</code></pre>
<p>or, in our representation, as:</p>
<pre><code class="language-python hljs">[[(<span class="hljs-string">'a'</span>, <span class="hljs-literal">True</span>), (<span class="hljs-string">'c'</span>, <span class="hljs-literal">True</span>)], [(<span class="hljs-string">'a'</span>, <span class="hljs-literal">True</span>), (<span class="hljs-string">'d'</span>, <span class="hljs-literal">False</span>)], [(<span class="hljs-string">'b'</span>, <span class="hljs-literal">True</span>), (<span class="hljs-string">'c'</span>, <span class="hljs-literal">True</span>)], [(<span class="hljs-string">'b'</span>, <span class="hljs-literal">True</span>), (<span class="hljs-string">'d'</span>, <span class="hljs-literal">False</span>)]]
</code></pre>
<p>Notice that the above expression will be true if <code>a</code> and <code>b</code> are both true, or
if <code>c</code> is true and <code>d</code> is false.</p>
<p>
<!--START question q000001 -->
</p><div class="question question-pythonliteral" id="cs_qdiv_q000001" style="position: static">
<div id="q000001_rendered_question">
Now, try your hand at it.  Consider the following Boolean Formula (not in CNF):
<pre><code class="language-python hljs">a <span class="hljs-keyword">and</span> (<span class="hljs-keyword">not</span> b <span class="hljs-keyword">or</span> (c <span class="hljs-keyword">and</span> d))
</code></pre>
<p>Write an equivalent CNF formula (as a Python literal), in the format used in the lab (e.g., <code>[[('a', True), ('b', False)], [('c', True)]]</code>).<br></p><input id="q000001" name="q000001" size="70" type="text" value="">
</div><div>
<span id="q000001_buttons"></span>
<span id="q000001_loading_wrapper">
<span id="q000001_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="></span>
</span>
<span id="q000001_score_display"></span>
<div class="nsubmits_left" id="q000001_nsubmits_left"></div></div>
<div id="q000001_solution_container">
<div id="q000001_solution">
</div>
<div id="q000001_solution_explanation">
</div>
</div>
<div id="q000001_message"></div>
</div>
<!--END question q000001 -->
<p></p>
<a class="anchor" name="catsoop_section_3"></a><a class="anchor" name="_sat_solver"></a><h2 class="cs_section_title">3) SAT Solver<a class="cs_permalink" href="https://py.mit.edu/spring22/labs/lab05#_sat_solver">§</a></h2>
<p>A classic tool that works on Boolean formulas is a <b>satisfiability solver</b> or SAT solver.
Given a formula, either the solver finds Boolean variable values that make the formula true, or the solver indicates that no solution exists.
In this lab, you will write a SAT solver that can solve puzzles like ours, as in:</p>
<pre><code class="language-python hljs"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(satisfying_assignment(rules))
{<span class="hljs-string">'jonathan'</span>: <span class="hljs-literal">False</span>, <span class="hljs-string">'charles'</span>: <span class="hljs-literal">False</span>, <span class="hljs-string">'chocolate'</span>: <span class="hljs-literal">False</span>, <span class="hljs-string">'mike'</span>: <span class="hljs-literal">False</span>,
 <span class="hljs-string">'saman'</span>: <span class="hljs-literal">False</span>, <span class="hljs-string">'pickles'</span>: <span class="hljs-literal">True</span>, <span class="hljs-string">'tim'</span>: <span class="hljs-literal">True</span>, <span class="hljs-string">'vanilla'</span>: <span class="hljs-literal">True</span>}
</code></pre>
<p>The return value of <code>satisfying_assignment</code> is a dictionary mapping variables
to the Boolean values that have been inferred for them (or <code>None</code> if no valid
mapping exists).</p>
<p>So, we can see that, in our example above, Tim the Beaver is guilty and has a
taste for vanilla and pickles!</p>
<p>It turns out that there are other possible answers that have Tim enjoying other
flavors, but it also turns out that Tim is the uniquely determined culprit.
How do we know?  The SAT solver fails to find an assignment when we add an
additional rule proclaiming Tim's innocence.</p>
<pre><code class="language-python hljs"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(satisfying_assignment(rules + [[(<span class="hljs-string">'tim'</span>, <span class="hljs-literal">False</span>)]]))
<span class="hljs-literal">None</span>
</code></pre>
<p><a class="anchor" name="catsoop_section_3_1"></a><a class="anchor" name="_the_naive_approach"></a></p><h3 class="cs_section_title">3.1) The Naive Approach<a class="cs_permalink" href="https://py.mit.edu/spring22/labs/lab05#_the_naive_approach">§</a></h3><p></p>
<p>There's one straightforward, brute-force way to solve Boolean puzzles: enumerate all possible
Boolean assignments to the variables.  Evaluate the rules on each assignment,
returning the first assignment that works.  Unfortunately, this process can
take prohibitively long to run!  For a concrete illustration of why, consider
this Python code to generate all sequences of Booleans of a certain length.</p>
<p>When we have <span class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathnormal" style="margin-right: 0.10903em;">N</span></span></span></span></span> Boolean variables in our puzzle, the possible assignments can
be represented as length-<span class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathnormal" style="margin-right: 0.10903em;">N</span></span></span></span></span> sequences of Booleans.</p>
<pre><code class="language-python hljs"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">all_bools</span>(<span class="hljs-params">length</span>):</span>
    <span class="hljs-keyword">if</span> length == <span class="hljs-number">0</span>:
        <span class="hljs-keyword">return</span> [[]]
    <span class="hljs-keyword">else</span>:
        out = []
        <span class="hljs-keyword">for</span> v <span class="hljs-keyword">in</span> all_bools(length<span class="hljs-number">-1</span>):
            out.append([<span class="hljs-literal">True</span>] + v)
            out.append([<span class="hljs-literal">False</span>] + v)
        <span class="hljs-keyword">return</span> out
</code></pre>
<p>Here's an example output.</p>
<pre><code class="language-python hljs"><span class="hljs-meta">&gt;&gt;&gt; </span>all_bools(<span class="hljs-number">3</span>)
[[<span class="hljs-literal">True</span>, <span class="hljs-literal">True</span>, <span class="hljs-literal">True</span>], [<span class="hljs-literal">False</span>, <span class="hljs-literal">True</span>, <span class="hljs-literal">True</span>], [<span class="hljs-literal">True</span>, <span class="hljs-literal">False</span>, <span class="hljs-literal">True</span>],
 [<span class="hljs-literal">False</span>, <span class="hljs-literal">False</span>, <span class="hljs-literal">True</span>], [<span class="hljs-literal">True</span>, <span class="hljs-literal">True</span>, <span class="hljs-literal">False</span>], [<span class="hljs-literal">False</span>, <span class="hljs-literal">True</span>, <span class="hljs-literal">False</span>],
 [<span class="hljs-literal">True</span>, <span class="hljs-literal">False</span>, <span class="hljs-literal">False</span>], [<span class="hljs-literal">False</span>, <span class="hljs-literal">False</span>, <span class="hljs-literal">False</span>]]
</code></pre>
<p>We could get more ambitious and try to generate longer sequences.</p>
<pre><code class="language-python hljs"><span class="hljs-meta">&gt;&gt;&gt; </span>len(all_bools(<span class="hljs-number">3</span>))
<span class="hljs-number">8</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>len(all_bools(<span class="hljs-number">4</span>))
<span class="hljs-number">16</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>len(all_bools(<span class="hljs-number">5</span>))
<span class="hljs-number">32</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>len(all_bools(<span class="hljs-number">6</span>))
<span class="hljs-number">64</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>len(all_bools(<span class="hljs-number">20</span>))
<span class="hljs-number">1048576</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>len(all_bools(<span class="hljs-number">25</span>))
<span class="hljs-comment"># Python runs for long enough that we give up!</span>
</code></pre>
<p>It's actually quite expensive even to run through all Boolean sequences of
nontrivial lengths, let alone to test each sequence against the rules.  The
reason is that there are <span class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mi>N</mi></msup></mrow><annotation encoding="application/x-tex">2^N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.841331em; vertical-align: 0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.841331em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right: 0.10903em;">N</span></span></span></span></span></span></span></span></span></span></span></span> length-<span class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathnormal" style="margin-right: 0.10903em;">N</span></span></span></span></span> Boolean sequences, and that kind of
exponential function grows quite quickly as the length <span class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathnormal" style="margin-right: 0.10903em;">N</span></span></span></span></span> of our mappings
grows.</p>
<p>Lots of logic puzzles can lead to hundreds of Boolean variables.  Are we out of
luck if we want Python to do all the work?  Worry not!  In this lab, you will
implement a SAT solver that uses a much smarter algorithm than this brute-force
enumeration of all assignments, thanks to the magic of backtracking search.</p>
<p><a class="anchor" name="catsoop_section_3_2"></a><a class="anchor" name="_a_nicer_approach"></a></p><h3 class="cs_section_title">3.2) A Nicer Approach<a class="cs_permalink" href="https://py.mit.edu/spring22/labs/lab05#_a_nicer_approach">§</a></h3><p></p>
<p>Instead of enumerating all assignments, we will ask you to implement a more
clever approach for Boolean satisfiability.  One such approach is outlined
below (with some of the details intentionally omitted):</p>
<p>We start by picking an arbitrary variable <span class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathnormal">x</span></span></span></span></span> from our formula <span class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi></mrow><annotation encoding="application/x-tex">F</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathnormal" style="margin-right: 0.13889em;">F</span></span></span></span></span>.  We then
construct a related formula <span class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">F_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>, which does not involve <span class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathnormal">x</span></span></span></span></span> but incorporates
all the consequences of setting <span class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathnormal">x</span></span></span></span></span> to be <code>True</code>.  We then try to solve <span class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">F_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>.
If it produces a successful result, we can combine that result with information
about <span class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathnormal">x</span></span></span></span></span> being <code>True</code> to produce our answer to the original problem.</p>
<p>If we could not solve <span class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">F_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>, we should try setting <span class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathnormal">x</span></span></span></span></span> to be <code>False</code> instead.
If no solution exists in either of the above cases, then the formula <span class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi></mrow><annotation encoding="application/x-tex">F</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathnormal" style="margin-right: 0.13889em;">F</span></span></span></span></span> cannot
be satisfied.</p>
<p><a class="anchor" name="catsoop_section_3_2_1"></a><a class="anchor" name="_updating_expressions"></a></p><h4 class="cs_section_title">3.2.1) Updating Expressions<a class="cs_permalink" href="https://py.mit.edu/spring22/labs/lab05#_updating_expressions">§</a></h4><p></p>
<p>A key operation here is updating a formula to model the effect of a variable
assignment.  As an example, consider this starting formula.</p>
<pre><code class="language-python hljs">(a <span class="hljs-keyword">or</span> b <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> c) <span class="hljs-keyword">and</span> (c <span class="hljs-keyword">or</span> d)
</code></pre>
<p>If we learn <code>c = True</code>, then the formula should be updated as follows.</p>
<pre><code class="language-python hljs">(a <span class="hljs-keyword">or</span> b)
</code></pre>
<p>We removed <code>not c</code> from the first clause, because we now know conclusively that
that literal is <code>False</code>.  Conversely, we can remove the second clause, because
with <code>c</code> true, it is assured that the clause will be satisfied.</p>
<p>Note a key effect of this operation: <em>variable <code>d</code> has disappeared from the
formula, so we no longer need to consider values for <code>d</code></em>.</p>
<p>In general, this approach often saves us from an exponential enumeration of
variable values, because we learn that, in some branches of the search space,
some variables are actually irrelevant to the problem.</p>
<p>This pruning will show up in the assignments that your SAT solver returns: you
are allowed (but not required) to omit variables that turn out to be
irrelevant.</p>
<p>If we had instead learned that <code>c</code> was <code>False</code>, we would update the formula
instead as follows:</p>
<pre><code class="language-python hljs">d
</code></pre>
<p>How did we get there?  Note that, with <code>c</code> being <code>False</code>, the first clause is
already satisfied.  The second clause, though, will only be <code>True</code> if <code>d</code> is
<code>True</code>.</p>
<p><strong>It might be a good idea to implement this process (updating a formula based
on a new assignment) as a helper function (which you can test independently),
as we will need to perform this operation repeatedly.</strong></p>
<p><a class="anchor" name="catsoop_section_3_2_2"></a><a class="anchor" name="_examples_2"></a></p><h4 class="cs_section_title">3.2.2) Examples<a class="cs_permalink" href="https://py.mit.edu/spring22/labs/lab05#_examples_2">§</a></h4><p></p>
<p>Consider this CNF formula, in the form we use in this lab:</p>
<pre><code class="language-python hljs">[
    [(<span class="hljs-string">'a'</span>, <span class="hljs-literal">True</span>), (<span class="hljs-string">'b'</span>, <span class="hljs-literal">True</span>), (<span class="hljs-string">'c'</span>, <span class="hljs-literal">True</span>)],
    [(<span class="hljs-string">'a'</span>, <span class="hljs-literal">False</span>), (<span class="hljs-string">'f'</span>, <span class="hljs-literal">True</span>)],
    [(<span class="hljs-string">'d'</span>, <span class="hljs-literal">False</span>), (<span class="hljs-string">'e'</span>, <span class="hljs-literal">True</span>), (<span class="hljs-string">'a'</span>, <span class="hljs-literal">True</span>), (<span class="hljs-string">'g'</span>, <span class="hljs-literal">True</span>)],
    [(<span class="hljs-string">'h'</span>, <span class="hljs-literal">False</span>), (<span class="hljs-string">'c'</span>, <span class="hljs-literal">True</span>), (<span class="hljs-string">'a'</span>, <span class="hljs-literal">False</span>), (<span class="hljs-string">'f'</span>, <span class="hljs-literal">True</span>)],
]
</code></pre>
<p>
<!--START question q000002 -->
</p><div class="question question-multiplechoicewithtext" id="cs_qdiv_q000002" style="position: static">
<div id="q000002_rendered_question">
What happens to the formula above when we set <code>a</code> to be <code>True</code>?<br>&nbsp;<br>
<select id="_q000002_opt" name="_q000002_opt">
<option name="_q000002_option_default" value="-1">--</option>
<option name="_q000002_option_0" value="0">This assignment results in a formula that is satisfied regardless of how the other variables are set.</option>
<option name="_q000002_option_1" value="1">This assignment results in a formula that cannot be satisfied regardless of how the other variables are set.</option>
<option class="multiplechoice_extrainfo" name="_q000002_option_2" value="2">This assignment results in the following simplified formula: (enter a formula below, without using variable a)</option></select><br>&nbsp;<br><textarea id="_q000002_extra" name="_q000002_extra" rows="7" style="width: 100%;display:none;"></textarea><input id="q000002" name="q000002" type="hidden" value="[&quot;default&quot;,null]">
<script type="text/javascript">
function update_q000002_values() {
    var outelt = document.getElementById('q000002');
    var textelt = document.getElementById('_q000002_extra');
    document.querySelectorAll("option[name^=_q000002_option_]").forEach(function(b){
        if (b.selected) {
            var fields = b.getAttribute('name').split('_');
            var theval = [fields[fields.length-1], null];
            if (b.classList.contains("multiplechoice_extrainfo")){
                theval[1] = textelt.value;
                textelt.style.display = 'block';
            }else{
                textelt.style.display = 'none';
            }
            outelt.value = JSON.stringify(theval);
        }
    });
}
document.getElementById('_q000002_opt').addEventListener('change', update_q000002_values);
document.getElementById('_q000002_extra').addEventListener('keyup', update_q000002_values);
document.getElementById('_q000002_extra').addEventListener('change', update_q000002_values);
update_q000002_values();</script>
</div><div>
<span id="q000002_buttons"></span>
<span id="q000002_loading_wrapper">
<span id="q000002_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="></span>
</span>
<span id="q000002_score_display"></span>
<div class="nsubmits_left" id="q000002_nsubmits_left"></div></div>
<div id="q000002_solution_container">
<div id="q000002_solution">
</div>
<div id="q000002_solution_explanation">
</div>
</div>
<div id="q000002_message"></div>
</div>
<!--END question q000002 -->
<p></p>
<p>
<!--START question q000003 -->
</p><div class="question question-multiplechoicewithtext" id="cs_qdiv_q000003" style="position: static">
<div id="q000003_rendered_question">
What happens to the formula above when we set <code>a</code> to be <code>False</code>?<br>&nbsp;<br>
<select id="_q000003_opt" name="_q000003_opt">
<option name="_q000003_option_default" value="-1">--</option>
<option name="_q000003_option_0" value="0">This assignment results in a formula that is satisfied regardless of how the other variables are set.</option>
<option name="_q000003_option_1" value="1">This assignment results in a formula that cannot be satisfied regardless of how the other variables are set.</option>
<option class="multiplechoice_extrainfo" name="_q000003_option_2" value="2">This assignment results in the following simplified formula: (enter a formula below, without using variable a)</option></select><br>&nbsp;<br><textarea id="_q000003_extra" name="_q000003_extra" rows="7" style="width: 100%;display:none;"></textarea><input id="q000003" name="q000003" type="hidden" value="[&quot;default&quot;,null]">
<script type="text/javascript">
function update_q000003_values() {
    var outelt = document.getElementById('q000003');
    var textelt = document.getElementById('_q000003_extra');
    document.querySelectorAll("option[name^=_q000003_option_]").forEach(function(b){
        if (b.selected) {
            var fields = b.getAttribute('name').split('_');
            var theval = [fields[fields.length-1], null];
            if (b.classList.contains("multiplechoice_extrainfo")){
                theval[1] = textelt.value;
                textelt.style.display = 'block';
            }else{
                textelt.style.display = 'none';
            }
            outelt.value = JSON.stringify(theval);
        }
    });
}
document.getElementById('_q000003_opt').addEventListener('change', update_q000003_values);
document.getElementById('_q000003_extra').addEventListener('keyup', update_q000003_values);
document.getElementById('_q000003_extra').addEventListener('change', update_q000003_values);
update_q000003_values();</script>
</div><div>
<span id="q000003_buttons"></span>
<span id="q000003_loading_wrapper">
<span id="q000003_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="></span>
</span>
<span id="q000003_score_display"></span>
<div class="nsubmits_left" id="q000003_nsubmits_left"></div></div>
<div id="q000003_solution_container">
<div id="q000003_solution">
</div>
<div id="q000003_solution_explanation">
</div>
</div>
<div id="q000003_message"></div>
</div>
<!--END question q000003 -->
<p></p>
<p>
<!--START question q000004 -->
</p><div class="question question-multiplechoicewithtext" id="cs_qdiv_q000004" style="position: static">
<div id="q000004_rendered_question">
What happens to the formula above when we set <code>a</code> to <code>True</code> <em>and</em> <code>f</code> to <code>True</code>?<br>&nbsp;<br>
<select id="_q000004_opt" name="_q000004_opt">
<option name="_q000004_option_default" value="-1">--</option>
<option name="_q000004_option_0" value="0">This assignment results in a formula that is satisfied regardless of how the other variables are set.</option>
<option name="_q000004_option_1" value="1">This assignment results in a formula that cannot be satisfied regardless of how the other variables are set.</option>
<option class="multiplechoice_extrainfo" name="_q000004_option_2" value="2">This assignment results in the following simplified formula: (enter a formula below, without using variable a)</option></select><br>&nbsp;<br><textarea id="_q000004_extra" name="_q000004_extra" rows="7" style="width: 100%;display:none;"></textarea><input id="q000004" name="q000004" type="hidden" value="[&quot;default&quot;,null]">
<script type="text/javascript">
function update_q000004_values() {
    var outelt = document.getElementById('q000004');
    var textelt = document.getElementById('_q000004_extra');
    document.querySelectorAll("option[name^=_q000004_option_]").forEach(function(b){
        if (b.selected) {
            var fields = b.getAttribute('name').split('_');
            var theval = [fields[fields.length-1], null];
            if (b.classList.contains("multiplechoice_extrainfo")){
                theval[1] = textelt.value;
                textelt.style.display = 'block';
            }else{
                textelt.style.display = 'none';
            }
            outelt.value = JSON.stringify(theval);
        }
    });
}
document.getElementById('_q000004_opt').addEventListener('change', update_q000004_values);
document.getElementById('_q000004_extra').addEventListener('keyup', update_q000004_values);
document.getElementById('_q000004_extra').addEventListener('change', update_q000004_values);
update_q000004_values();</script>
</div><div>
<span id="q000004_buttons"></span>
<span id="q000004_loading_wrapper">
<span id="q000004_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="></span>
</span>
<span id="q000004_score_display"></span>
<div class="nsubmits_left" id="q000004_nsubmits_left"></div></div>
<div id="q000004_solution_container">
<div id="q000004_solution">
</div>
<div id="q000004_solution_explanation">
</div>
</div>
<div id="q000004_message"></div>
</div>
<!--END question q000004 -->
<p></p>
<p>
<!--START question q000005 -->
</p><div class="question question-multiplechoicewithtext" id="cs_qdiv_q000005" style="position: static">
<div id="q000005_rendered_question">
What happens to the formula above when we set <code>a</code> to <code>True</code> <em>and</em> <code>f</code> to <code>False</code>?<br>&nbsp;<br>
<select id="_q000005_opt" name="_q000005_opt">
<option name="_q000005_option_default" value="-1">--</option>
<option name="_q000005_option_0" value="0">This assignment results in a formula that is satisfied regardless of how the other variables are set.</option>
<option name="_q000005_option_1" value="1">This assignment results in a formula that cannot be satisfied regardless of how the other variables are set.</option>
<option class="multiplechoice_extrainfo" name="_q000005_option_2" value="2">This assignment results in the following simplified formula: (enter a formula below, without using variable a)</option></select><br>&nbsp;<br><textarea id="_q000005_extra" name="_q000005_extra" rows="7" style="width: 100%;display:none;"></textarea><input id="q000005" name="q000005" type="hidden" value="[&quot;default&quot;,null]">
<script type="text/javascript">
function update_q000005_values() {
    var outelt = document.getElementById('q000005');
    var textelt = document.getElementById('_q000005_extra');
    document.querySelectorAll("option[name^=_q000005_option_]").forEach(function(b){
        if (b.selected) {
            var fields = b.getAttribute('name').split('_');
            var theval = [fields[fields.length-1], null];
            if (b.classList.contains("multiplechoice_extrainfo")){
                theval[1] = textelt.value;
                textelt.style.display = 'block';
            }else{
                textelt.style.display = 'none';
            }
            outelt.value = JSON.stringify(theval);
        }
    });
}
document.getElementById('_q000005_opt').addEventListener('change', update_q000005_values);
document.getElementById('_q000005_extra').addEventListener('keyup', update_q000005_values);
document.getElementById('_q000005_extra').addEventListener('change', update_q000005_values);
update_q000005_values();</script>
</div><div>
<span id="q000005_buttons"></span>
<span id="q000005_loading_wrapper">
<span id="q000005_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="></span>
</span>
<span id="q000005_score_display"></span>
<div class="nsubmits_left" id="q000005_nsubmits_left"></div></div>
<div id="q000005_solution_container">
<div id="q000005_solution">
</div>
<div id="q000005_solution_explanation">
</div>
</div>
<div id="q000005_message"></div>
</div>
<!--END question q000005 -->
<p></p>
<a class="anchor" name="catsoop_section_4"></a><a class="anchor" name="_implementation"></a><h2 class="cs_section_title">4) Implementation<a class="cs_permalink" href="https://py.mit.edu/spring22/labs/lab05#_implementation">§</a></h2>
<p>Implement the function <code>satisfying_assignment</code> as described in <code>lab.py</code>.  Your
function should take as input a CNF formula (in the form described throughout
this writeup).  It should return a dictionary mapping variable names to Boolean
values if there exists such an assignment that satisfies the given formula.  If
no such assignment exists, it should return <code>None</code>.</p>
<a class="anchor" name="catsoop_section_5"></a><a class="anchor" name="_optimizations"></a><h2 class="cs_section_title">5) Optimizations<a class="cs_permalink" href="https://py.mit.edu/spring22/labs/lab05#_optimizations">§</a></h2>
<div class="callout callout-error"><div class="callout-title">Suggested Approach</div>
<p>While the details below can make a big difference in terms of efficiency
for some of the test cases, each new change below adds complexity to your code.
We <strong>strongly</strong> encourage you to write and debug the approach described above
first, and only to add the features below once you have something that works.</p>
</div>
<p>A couple of further optimizations are likely to be necessary in order to pass
all of the test cases quickly enough on the server:</p>
<ul>
<li>
<p>In the procedure described above, if setting the value of <span class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathnormal">x</span></span></span></span></span> immediately leads
to a contradiction, we can immediately discard that possibility (rather than
waiting for a later step in the recursive process to notice the contradiction).</p>
</li>
<li>
<p>At the start of any call to your procedure, check if the formula contains any
length-one clauses ("unit" clauses).
If such a clause <code>[(x, b)]</code> exists, then we may set <code>x</code> to Boolean value <code>b</code>,
just as we do in the <code>True</code> and <code>False</code> cases of the outline above.
However, we know that, if this setting leads to failure, there is no need
to backtrack and also try <code>x = not b</code> (because the unit clause alone tells
us exactly what the value of <code>x</code> must be)!</p>
<p>Thus, you can begin your function with a loop that repeatedly finds unit
clauses, if any, and propagates their consequences through the formula.
Propagating the effects of one unit clause may reveal further unit clauses,
whose later propagations may themselves reveal more unit clauses, and so on.</p>
</li>
</ul>
<p>Implementing function <code>satisfying_assignment</code> in this way should allow your
code to pass the <code>test_sat</code> and <code>test_sat_sudoku</code> test cases in time. The
<code>test_sat_sudoku</code> tests will use your SAT solver to solve sudoku puzzles,
which can also be expressed in CNF<a class="anchor" name="catsoop_footnote_ref_1"></a><a href="https://py.mit.edu/spring22/labs/lab05#catsoop_footnote_1"><sup>1</sup></a>! These test cases are large, so consider
making smaller test cases to debug them.</p>
<p>You are free to add additional optimizations beyond what we laid out above or
even make broader changes to the algorithm, so long as you avoid "hard coding"
for rather specific SAT problems (except for base cases like empty formulas).</p>
<a class="anchor" name="catsoop_section_6"></a><a class="anchor" name="_scheduling_by_reduction"></a><h2 class="cs_section_title">6) Scheduling by Reduction<a class="cs_permalink" href="https://py.mit.edu/spring22/labs/lab05#_scheduling_by_reduction">§</a></h2>
<p>Now that we have a fancy new SAT solver, let's look at applying it to a new
problem!</p>
<p>In general, it's possible to write a new implementation of backtracking search
for each new problem we encounter, but another strategy is to <em>reduce</em> a new
problem to one that we already know how to solve well.  Boolean satisfiability
is a popular target for reductions, because a lot of effort has gone into
building fast SAT solvers.  In this last part of the lab, you will implement a
reduction to SAT from a scheduling problem.</p>
<p>In particular, we are interested in the real-life problem of assigning students
in a class to different rooms for taking a quiz.  For 6.009's quiz, we assigned
rooms based on last names; but we could have tried a different streategy
instead, asking for room preferences.</p>
<p>In this scenario, each student prefers only some of the rooms, but each room
has limited capacity.  We want to find a schedule (assignment of students to
rooms) that respects all the constraints.</p>
<p>Please implement the function
<code>boolify_scheduling_problem(student_preferences, room_capacities)</code>
as described both below and in <code>lab.py</code>:</p>
<ul>
<li>
<p>The argument <code>student_preferences</code> is a dictionary mapping a student name
(string) to a list of room names (strings) for which that student is available.</p>
</li>
<li>
<p>Argument <code>room_capacities</code> is a dictionary mapping each room name to a
positive integer for how many students can fit in that room.</p>
</li>
<li>
<p>The function returns a CNF formula encoding the schedule problem, as we
explain next.</p>
</li>
</ul>
<p>Here's an example call:</p>
<pre><code class="language-python hljs">boolify_scheduling_problem({<span class="hljs-string">'Alice'</span>: [<span class="hljs-string">'basement'</span>, <span class="hljs-string">'penthouse'</span>],
                            <span class="hljs-string">'Bob'</span>: [<span class="hljs-string">'kitchen'</span>],
                            <span class="hljs-string">'Charles'</span>: [<span class="hljs-string">'basement'</span>, <span class="hljs-string">'kitchen'</span>],
                            <span class="hljs-string">'Dana'</span>: [<span class="hljs-string">'kitchen'</span>, <span class="hljs-string">'penthouse'</span>, <span class="hljs-string">'basement'</span>]},
                           {<span class="hljs-string">'basement'</span>: <span class="hljs-number">1</span>,
                            <span class="hljs-string">'kitchen'</span>: <span class="hljs-number">2</span>,
                            <span class="hljs-string">'penthouse'</span>: <span class="hljs-number">4</span>})
</code></pre>
<p>In English, Alice is available for the sessions in the basement and penthouse,
Bob is available only for the session in the kitchen, etc.
The basement can fit 1 student, the kitchen 2 students, and the penthouse 4
students.
In this case, one legal schedule would be Alice in the basement, Bob in the
kitchen, Charles in the kitchen, and Dana in the penthouse.</p>
<p>Your job is to translate such inputs into CNF formulas, such that your SAT
solver can then find a legal schedule (or confirm that none exists).</p>
<p>The CNF formula you output should mention only Boolean variables named like
<code>student_room</code>, where <code>student</code> is the name of a student, and where
<code>room</code> is the name of a room.
The variable <code>student_room</code> should be <code>True</code> if and only if that student is
assigned to that room (for example, the variable <code>Bob_kitchen</code> should be
<code>True</code> if Bob is in the kitchen and <code>False</code> otherwise).</p>
<p>The CNF clauses you include should enforce exactly the following rules (which
are discussed in more detail below):</p>
<ol>
<li>Students are only assigned to rooms included in their preferences.</li>
<li>Each student is assigned to exactly one room.</li>
<li>No room has more assigned students than it can fit.</li>
</ol>
<p>Our requirement for this part of the lab is that your code <em>should not</em> solve
the optimization problem.  Rather, you should implement a translation to CNF
formulas (which <code>satisfying_assignment</code> can then solve).</p>
<p>During the checkoff, our staff will try to make sure you've followed this rule
and not merely, say, implemented a backtracking search directly for the
scheduling problem, to output trivial CNF problems that encode
answers directly.</p>
<p><a class="anchor" name="catsoop_section_6_1"></a><a class="anchor" name="_encoding_the_rules"></a></p><h3 class="cs_section_title">6.1) Encoding the Rules<a class="cs_permalink" href="https://py.mit.edu/spring22/labs/lab05#_encoding_the_rules">§</a></h3><p></p>
<p>Turning these rules into CNF formulas is a tricky task.  We'll try to provide
some guidance for thinking about each of these rules in the following sections
(though if you get stuck, please don't hesitate to ask via
the <a href="https://py.mit.edu/forum/c/labs" target="_blank">Forum</a>).</p>
<p>Note that each of these rules can be expressed as its own CNF formula, and the
AND of these three rules represents the overall formula we need to solve.  As
such, you may wish to write a helper function to generate the formula for each
of these rules and to use those helper functions in <code>boolify_scheduling_problem</code>.</p>
<p><strong>The examples below also make nice test cases to add to your lab.py or test.py
(simpler than many we will test your code on)!</strong>  Note also that computing the
results for the examples below may also be difficult to do without some
additional scratch paper (or at least a bigger text editing area than the
little boxes below).</p>
<p><a class="anchor" name="catsoop_section_6_1_1"></a><a class="anchor" name="_students_only_in_desired_sessions"></a></p><h4 class="cs_section_title">6.1.1) Students Only In Desired Sessions<a class="cs_permalink" href="https://py.mit.edu/spring22/labs/lab05#_students_only_in_desired_sessions">§</a></h4><p></p>
<p>For each student, we need to guarantee that they are given a room that they
selected as one of their preferences.  In the example above, for example, we
know that Charles must be in the basement or the kitchen, and that Alice must
be in the basement or in the penthouse.</p>
<p>
<!--START question q000006 -->
</p><div class="question question-pythonic" id="cs_qdiv_q000006" style="position: static">
<div id="q000006_rendered_question">
In the box below, enter a CNF formula expressing this constraint
(students are only assigned to rooms in their preferences) for the example data
above (with Alice, Bob, Charles, and Dana).  Use variable names of the form
described above (e.g., <code>'Bob_kitchen'</code> represents Bob being in the
kitchen).<br><textarea cols="60" id="q000006" name="q000006" rows="10"></textarea><br>
</div><div>
<span id="q000006_buttons"></span>
<span id="q000006_loading_wrapper">
<span id="q000006_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="></span>
</span>
<span id="q000006_score_display"></span>
<div class="nsubmits_left" id="q000006_nsubmits_left"></div></div>
<div id="q000006_solution_container">
<div id="q000006_solution">
</div>
<div id="q000006_solution_explanation">
</div>
</div>
<div id="q000006_message"></div>
</div>
<!--END question q000006 -->
<p></p>
<div class="question"><b>Check Yourself:</b><p>How could you generate this formula from the arguments given to
<code>boolify_scheduling_problem</code>?</p><p><span id="queue_checkyourself_1"></span></p></div>
<p><a class="anchor" name="catsoop_section_6_1_2"></a><a class="anchor" name="_each_student_in_exactly_one_session"></a></p><h4 class="cs_section_title">6.1.2) Each Student In Exactly One Session<a class="cs_permalink" href="https://py.mit.edu/spring22/labs/lab05#_each_student_in_exactly_one_session">§</a></h4><p></p>
<p>This rule is a little bit trickier, but it may help to separate it into two pieces:</p>
<ul>
<li>each student must be in at least one room, <strong>and</strong></li>
<li>each student must be in at most one room.</li>
</ul>
<p>We can generate formulae for each of these conditions and combine them to
construct the overall formula corresponding to this rule.</p>
<p>In fact, the first bullet (that each student be assigned to at least one
room) is redundant with our first condition (that each student be assigned
to a room in their preferences).</p>
<p>So let's turn our attention to making sure that each student is assigned to <em>at
most one room</em>.  This one is a bit trickier, particularly since we need to
put things in CNF.  One flip of perspective that can be helpful is that, if we
need each student to be in at most one room, that means that for any pair of
rooms, any given student can be in only <em>one</em> of them.</p>
<p>For example, one clause in this expression will say that Bob cannot be in both
the kitchen and the basement.  That is, we cannot have both <code>Bob_kitchen</code> and
<code>Bob_basement</code> be <code>True</code> (or, to phrase it a different way, at least one of
them must be <code>False</code>).</p>
<p>Note that there is a corresponding clause for every other pair of rooms; and
each of these clauses has a corresponding clause for Alice (and the other
students).  <strong>For purposes of this question, include <em>all</em> rooms for each
student, regardless of their preferences.</strong></p>
<p>
<!--START question q000007 -->
</p><div class="question question-pythonic" id="cs_qdiv_q000007" style="position: static">
<div id="q000007_rendered_question">
In the box below, enter a CNF formula expressing this
constraint (students are in at most one room) for the example data above
(with Alice, Bob, Charles, and Dana).  Use variable names of the form described
above (e.g., <code>'Bob_kitchen'</code> represents Bob being in the kitchen).<br><textarea cols="60" id="q000007" name="q000007" rows="10"></textarea><br>
<br></div><div>
<span id="q000007_buttons"></span>
<span id="q000007_loading_wrapper">
<span id="q000007_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="></span>
</span>
<span id="q000007_score_display"></span>
<div class="nsubmits_left" id="q000007_nsubmits_left"></div></div>
<div id="q000007_solution_container">
<div id="q000007_solution">
</div>
<div id="q000007_solution_explanation">
</div>
</div>
<div id="q000007_message"></div>
</div>
<!--END question q000007 -->
<p></p>
<div class="question"><b>Check Yourself:</b><p>How could you generate this formula from the arguments given to
<code>boolify_scheduling_problem</code>?</p><p><span id="queue_checkyourself_2"></span></p></div>
<p><a class="anchor" name="catsoop_section_6_1_3"></a><a class="anchor" name="_no_oversubscribed_sessions"></a></p><h4 class="cs_section_title">6.1.3) No Oversubscribed Sessions<a class="cs_permalink" href="https://py.mit.edu/spring22/labs/lab05#_no_oversubscribed_sessions">§</a></h4><p></p>
<p>This last rule is also fairly tricky, and it maybe requires a bit of a shift of
perspective to express this constraint in CNF.  However, it is similar to the
previous rule in some ways.</p>
<p>We can think about this as: if a given room can contain <span class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathnormal" style="margin-right: 0.10903em;">N</span></span></span></span></span> students, then in
every possible group of <span class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">N+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.76666em; vertical-align: -0.08333em;"></span><span class="mord mathnormal" style="margin-right: 0.10903em;">N</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span> students, there must be at least one student who
is <em>not</em> in the given room.</p>
<p>For example, since the kitchen holds 2 people, we would need to consider all
possible groups of 3 students and make sure that at least one of the students
in each group is <em>not</em> in that room.  For purposes of this question, include
<em>all</em> groups of students, regardless of their preferences.</p>
<p>What about the penthouse?  It has enough room for everyone, so there is no need
even to include it in the constraints (it doesn't constrain our decision in any
way)!</p>
<p>
<!--START question q000008 -->
</p><div class="question question-pythonic" id="cs_qdiv_q000008" style="position: static">
<div id="q000008_rendered_question">
In the box below, enter a CNF formula expressing this constraint
(no oversubscribed rooms) for the example data above (with Alice, Bob,
Charles, and Dana).  Use variable names of the form described above (e.g.,
<code>'Bob_kitchen'</code> represents Bob being in the kitchen).<br><textarea cols="60" id="q000008" name="q000008" rows="10"></textarea><br>
<br></div><div>
<span id="q000008_buttons"></span>
<span id="q000008_loading_wrapper">
<span id="q000008_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="></span>
</span>
<span id="q000008_score_display"></span>
<div class="nsubmits_left" id="q000008_nsubmits_left"></div></div>
<div id="q000008_solution_container">
<div id="q000008_solution">
</div>
<div id="q000008_solution_explanation">
</div>
</div>
<div id="q000008_message"></div>
</div>
<!--END question q000008 -->
<p></p>
<div class="question"><b>Check Yourself:</b><p>How could you generate this formula from the arguments given to
<code>boolify_scheduling_problem</code>?</p><p><span id="queue_checkyourself_3"></span></p></div>
<a class="anchor" name="catsoop_section_7"></a><a class="anchor" name="_ui"></a><h2 class="cs_section_title">7) UI<a class="cs_permalink" href="https://py.mit.edu/spring22/labs/lab05#_ui">§</a></h2>
<p>We have provided a browser UI for this lab, so you can see your code solving
scheduling problems in action! When you have implemented both main functions
of the lab, you may run <code>python3 server.py</code> and navigate to <a href="http://localhost:6009/"><code>http://localhost:6009/</code></a>. Running a test case on the UI
involves generating a CNF formula and searching for a satisfying assignment for
it, done by calling your functions. Enjoy!</p>
<a class="anchor" name="catsoop_section_8"></a><a class="anchor" name="_code_submission"></a><h2 class="cs_section_title">8) Code Submission<a class="cs_permalink" href="https://py.mit.edu/spring22/labs/lab05#_code_submission">§</a></h2>
<p>When you have tested your code sufficiently on your own machine, submit your
modified <code>lab.py</code> using the <code>submit-009-lab</code> script.  The following command
should submit the lab, assuming that the last argument <code>/path/to/lab.py</code> is
replaced by the location of your <code>lab.py</code> file:</p>
<pre><code class="language-nohighlight">$ submit-009-lab -a lab05 /path/to/lab.py
</code></pre>
<p>Running that script should submit your file to be checked, and it should also
provide some information about how and where to get feedback about your
submission.  Reloading this page after submitting will also show some
additional information:</p>
<div class="callout callout-note">You have not yet made any submissions to this assignment.</div>
<a class="anchor" name="catsoop_section_9"></a><a class="anchor" name="_checkoff"></a><h2 class="cs_section_title">9) Checkoff<a class="cs_permalink" href="https://py.mit.edu/spring22/labs/lab05#_checkoff">§</a></h2>
<p>Once you are finished with the code, please come to office hours
and add yourself to the queue asking for a checkoff.  <strong>You must be
ready to discuss your code and test cases in detail before asking for a checkoff.</strong></p>
<p>You should be prepared to demonstrate your code (which should be
well-commented, should avoid repetition, and should make good use of helper
functions).  In particular:</p>
<ul>
<li>Explain, in English, the general recipe for finding assignments that satisfy a given CNF formula.  Why was it useful to represent formulas in CNF rather than in some other way?</li>
<li>Explain, in English, your strategy for updating a formula based on setting a variable to be <code>True</code> or <code>False</code>.  How did you detect when setting that variable completely satisfied the formula, and when that assignment led to an unsatifiable formula?</li>
<li>Briefly describe the high-level organization and behavior of your code for <code>boolify_scheduling_problem</code>, including any helper functions you made use of.</li>
</ul>
<div class="response"><i>You have not yet received this checkoff.</i></div>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
catsoop.all_questions = ['satisfied1', 'q000000', 'q000001', 'q000002', 'q000003', 'q000004', 'q000005', 'q000006', 'q000007', 'q000008'];
catsoop.username = null;
catsoop.this_path = 'https://py.mit.edu/spring22/labs/lab05';
catsoop.path_info = ['spring22', 'labs', 'lab05'];
catsoop.course = 'spring22';
catsoop.url_root = 'https://py.mit.edu';
catsoop.imp = '';
catsoop.skip_alert = [];
catsoop.viewans_confirm = "Are you sure?  Viewing the answer will prevent any further submissions to this question.  Press 'OK' to view the answer, or press 'Cancel' if you have changed your mind.";

// @license-end</script>
<br>&nbsp;<hr><b name="cs_footnotes">Footnotes</b><p><a class="anchor" name="catsoop_footnote_1"></a><sup style="padding-right:0.25em;color:var(--cs-base-bg-color);">1</sup>For a brief description of how these test cases were generated, see <a href="http://www.cs.qub.ac.uk/~I.Spence/SuDoku/SuDoku.html" target="_blank">this link</a>, which describes the process. <a href="https://py.mit.edu/spring22/labs/lab05#catsoop_footnote_ref_1"><span class="noprint">(click to return to text)</span></a></p>
</div>
</div>
<div class="cs_right_menu"></div>
</main>
<footer>
<div class="cs_navigation cs_bottom_navigation" id="cs_bottom_navigation"><span class="line"><a href="https://py.mit.edu/spring22">Home</a></span> <span class="cs_nav_separator">/</span> <span class="line"><a href="https://py.mit.edu/spring22/labs/lab05">Lab 5: SAT Solver</a></span></div>
<div class="cs_footer">
      This page was last updated on Thursday March 17, 2022 at 06:39:27 PM (revision <code>85775d746</code>).<br>&nbsp;<br>
<pre class="catsooplogo" style="font-size:50%;">\            
/    /\__/\  
\__=(  o_O )=
(__________) 
 |_ |_ |_ |_ </pre>
      Powered by <a href="https://catsoop.mit.edu/" target="_blank">CAT-SOOP</a> v2022.2.0.dev19 "Highlander" (development snapshot).<br>
      CAT-SOOP is <a href="https://www.fsf.org/about/what-is-free-software" target="_blank">Free/Libre Software</a>, available under the terms<br>of the <a href="https://py.mit.edu/_util/license" target="_blank">GNU Affero General Public License, version 3</a>.<br>
<a download="" href="https://py.mit.edu/_util/source.zip" target="_blank">Download Source Code</a><br>
<a href="https://py.mit.edu/_util/jslicense.html" rel="jslicense" target="_blank">Javascript License Information</a>
</div>
</footer>



</body></html>