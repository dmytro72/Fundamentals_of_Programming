<!DOCTYPE html>
<!-- saved from url=(0045)https://py.mit.edu/spring22/pre_lecture/lec03 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- This page was generated by CAT-SOOP 2022.2.0.dev19.  miau. -->

<title>Pre-Lecture 3: Recursion | 6.009 Spring 2022</title>
<link href="./Pre-Lecture 3_ Recursion_files/logo.gif" rel="icon" type="image/gif">
<!-- include catsoop base css -->
<link href="./Pre-Lecture 3_ Recursion_files/base.css" rel="stylesheet" type="text/css">
<!-- set up JS namespace for catsoop -->
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    var catsoop = {plugins: {}};

    function toggleResponsiveHeader(){
        document.getElementsByTagName('header')[0].classList.toggle('responsive');
    }

    window.addEventListener('DOMContentLoaded', function(){
        var menu_boxes = document.getElementsByClassName('dropdown-checkbox');
        for(var i=0; i<menu_boxes.length; i++){
            menu_boxes[i].checked = false;
        }
    });

    function clearMenu(menu){
       menu.children[1].checked = false;
    }
    // @license-end
    </script>
<!-- load in katex and CAT-SOOP-specific math rendering  -->
<script src="./Pre-Lecture 3_ Recursion_files/katex.min.js.stažený soubor" type="text/javascript"></script>
<link href="./Pre-Lecture 3_ Recursion_files/katex.min.css" rel="stylesheet" type="text/css">
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    catsoop.katex_macros = {};
    catsoop.render_math = function (elt) {
        var tex = elt.innerText; // TeX Source
        var display = elt.classList.contains('cs_displaymath');
        try {
            katex.render(tex, elt, {displayMode: display, macros: catsoop.katex_macros});
        }catch(e) {
            console.log(e);
            elt.innerHTML = "<font color='red'><b>Could not parse math:</b> <tt>" + tex + "</tt></font>";
        }
        elt.classList.remove('cs_math_to_render');
    }


    catsoop.render_all_math = function (elt){
        var mathelts = elt.getElementsByClassName('cs_math_to_render');
        while(mathelts.length > 0){
            catsoop.render_math(mathelts[0]);
        }
    }
    document.addEventListener("DOMContentLoaded", function(event) {
          catsoop.render_all_math(document);
    });
    // @license-end
    </script>
<!-- load in diagram stuff -->
<script src="./Pre-Lecture 3_ Recursion_files/cs_diagrams.js.stažený soubor" type="text/javascript"></script>
<script type="text/javascript">
        catsoop.diagram_sources = {};
    </script>
<!-- Syntax Highlighting -->
<script src="./Pre-Lecture 3_ Recursion_files/highlight.min.js.stažený soubor" type="text/javascript"></script>
<script src="./Pre-Lecture 3_ Recursion_files/highlightjs-line-numbers.js.stažený soubor" type="text/javascript"></script><style type="text/css">.hljs-ln{border-collapse:collapse}.hljs-ln td{padding:0}.hljs-ln-n:before{content:attr(data-line-number)}</style>
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    hljs.initHighlightingOnLoad();
    window.addEventListener('DOMContentLoaded', function(){
        document.querySelectorAll('.hl code').forEach((block) => {
            hljs.highlightBlock(block);
        });
        document.querySelectorAll('code.highlight-lines').forEach(function(b){
            hljs.lineNumbersBlock(b);
            if ((b.innerHTML.trim().match(/\r\n|\r|\n/g) || []).length > 0){
                b.parentElement.style = "padding-left: 0px !important;"
                b.classList.add('hljs');
            }
        });
    });
    // @license-end
    </script>
<style>
      :root {
        --cs-base-bg-color: #039bba;
        --cs-light-bg-color: #62d5ed;
        --cs-base-font-color: #fff;
        --cs-light-font-color: #000;
    }
    </style>
<style>
.cs_top_menu_item {
  font-size: 0.88rem;
}
div.dropdown {
  -moz-transform: translateY(-1px);
}
</style>
<script src="./Pre-Lecture 3_ Recursion_files/cs_ajax.js.stažený soubor" type="text/javascript"></script>
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body style="margin: 0px;">
<header id="cs_header">
<div class="nav-container">
<div class="cs_header_text"><a href="https://py.mit.edu/spring22"><img src="./Pre-Lecture 3_ Recursion_files/logo.gif">&nbsp;6.009</a></div>
<div class="dropdown" onmouseleave="clearMenu(this);">
<label class="dropbtn cs_top_menu_item" for="cs_menu_84494260bb2b4bc1ef74fe697ea810e0">Information<span class="downarrow">▼</span></label>
<input checked="false" class="dropdown-checkbox" id="cs_menu_84494260bb2b4bc1ef74fe697ea810e0" type="checkbox">
<div class="dropdown-content">
<a class="cs_top_menu_item" href="https://py.mit.edu/spring22/info/basics">Basic Information</a>
<a class="cs_top_menu_item" href="https://py.mit.edu/spring22/info/help">Getting Help</a>
<a class="cs_top_menu_item" href="https://py.mit.edu/spring22/info/grading">Grading Policies</a>
<a class="cs_top_menu_item" href="https://py.mit.edu/spring22/info/academic_integrity">Academic Integrity</a>
<a class="cs_top_menu_item" href="https://py.mit.edu/spring22/info/infrastructure">Infrastructure</a>
<a class="cs_top_menu_item" href="https://py.mit.edu/spring22/notes">Course Notes</a>
<a class="cs_top_menu_item" href="https://py.mit.edu/spring22/info/staff">Staff List</a></div></div>
<a class="cs_top_menu_item" href="https://py.mit.edu/spring22/queue/">Help Queue</a>
<a class="cs_top_menu_item" href="https://discourse6009.mit.edu/">Forum</a>
<a class="cs_top_menu_item" href="https://py.mit.edu/spring22/progress">Progress</a>
<a class="cs_top_menu_item" href="https://py.mit.edu/spring22/pre_lecture/lec03?loginaction=login">Log In</a><a class="icon" href="javascript:void(0);" onclick="toggleResponsiveHeader()">☰</a>
</div>
</header>
<div class="cs_navigation cs_top_navigation" id="cs_top_navigation"><span class="line"><a href="https://py.mit.edu/spring22">Home</a></span> <span class="cs_nav_separator">/</span> <span class="line"><a href="https://py.mit.edu/spring22/pre_lecture/lec03">Pre-Lecture 3: Recursion</a></span></div>
<main class="cs_body" id="cs_body">
<div class="cs_left_menu"></div>
<div class="cs_content">
<div class="cs_page_body">
<center><h1 class="cs_content_header">Pre-Lecture 3: Recursion</h1></center>
<div class="response" id="catsoop_login_box">
<b><center>You are not logged in.</center></b><br>
If you are a current student, please <a href="https://py.mit.edu/spring22/pre_lecture/lec03?loginaction=login">Log
In</a> for full access to the web site.<br>Note that this link will take you to
an external site (<tt>https://shimmer.mit.edu</tt>) to authenticate, and then you will be redirected
back to this page.
</div>
<p>In some sense, this week's lecture represents a slight shift of focus as we
move on to a new topic.  The ideas we've been talking about so far won't go
away, of course, but we will have a different central focus for the next few
weeks: recursion.</p>
<p>We expect that recursion is something that everyone has seen before in 6.0001,
but recursion can feel somewhat weird and uncomfortable until you build up some
experience working it and some understanding of how it works.  So
we're going to spend a fair amount of time over the next couple of weeks with
that goal in mind: developing facility and comfort with, and a deeper
understanding of, recursion.  As usual, we'll come at this from a couple of
different perspectives: we'll certainly look at how we can use recursion in
our own programs, but we'll also focus on how recursion works behind the scenes
(in terms of our environment model), as well as talking about how we can go
about deciding whether a recursive solution is appropriate for a given problem
(or whether some other approach might be better).</p>
<p>And don't worry if recursion feels strange or uncomfortable; that's a natural
first reaction, and with time and practice (which we're aiming to provide over
the course of the next several lectures, recitations, and labs), this idea will
stop being quite so scary and start being a really powerful tool that we can
use in our own programs.</p>
<h2>Definitions</h2>
<p>Before we can get too far into talking about using recursion, it's worth
briefly talking about what recursion is.  Generally speaking, <strong>recursion</strong>
occurs when something is defined in terms of itself.</p>
<p>Although our focus will be on recursion from a programming perspective,
recursion can also appear in other contexts.  Here is an example from
mathematics, a definition of the factorial operation.  For nonnegative integer
<span class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathnormal">n</span></span></span></span></span>,</p>
<p></p><div class="cs_displaymath" style="text-align:center;padding-bottom:10px;"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>n</mi><mo stretchy="false">!</mo><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.3600em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>if&nbsp;</mtext><mi>n</mi><mo>=</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>n</mi><mo>×</mo><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">!</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>otherwise</mtext></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">n! = \begin{cases} 1 &amp; \text{if}~n=0\\ n\times (n-1)! &amp; \text{otherwise} \end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.69444em; vertical-align: 0em;"></span><span class="mord mathnormal">n</span><span class="mclose">!</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 3.00003em; vertical-align: -1.25003em;"></span><span class="minner"><span class="mopen delimcenter" style="top: 0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.69em;"><span class="" style="top: -3.69em;"><span class="pstrut" style="height: 3.008em;"></span><span class="mord"><span class="mord">1</span></span></span><span class="" style="top: -2.25em;"><span class="pstrut" style="height: 3.008em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mord">1</span><span class="mclose">)!</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.19em;"><span class=""></span></span></span></span></span><span class="arraycolsep" style="width: 1em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.69em;"><span class="" style="top: -3.69em;"><span class="pstrut" style="height: 3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">if</span></span><span class="mspace nobreak">&nbsp;</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mord">0</span></span></span><span class="" style="top: -2.25em;"><span class="pstrut" style="height: 3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">otherwise</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.19em;"><span class=""></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></div><p></p>
<p>In general, a recursive definition will have multiple pieces:</p>
<ul>
<li>one or more <strong>base cases</strong> (terminating scenarios that do not need recursion to produce answers), and</li>
<li>one or more <strong>recursive cases</strong> (sets of rules that reduce all other cases toward base cases)</li>
</ul>
<p>In our example above, the case where <span class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">n=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">0</span></span></span></span></span> is a base case.  We don't need
recursion to find the answer there, since <span class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo stretchy="false">!</mo><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">0! = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.69444em; vertical-align: 0em;"></span><span class="mord">0</span><span class="mclose">!</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span> by definition.</p>
<p>The other case is our recursive case.  We can see the recursion here in that
figuring out that value depends on the definition of factorial.  We can look at
an example of this process in this mathematical context before we move on to
programming.  Let's consider determining <span class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>4</mn><mo stretchy="false">!</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(4!)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord">4</span><span class="mclose">!)</span></span></span></span></span> using the definition above.  We
can plug things into that definition above and use something like the
following sequence of steps to arrive at an answer, repeatedly applying the
definition of factorial until we reach a base case:</p>
<p></p><div class="cs_displaymath" style="text-align:center;padding-bottom:10px;"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.2500em" columnalign="right left right" columnspacing="0em 1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mn>4</mn><mo stretchy="false">!</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mn>4</mn><mo>×</mo><mstyle mathcolor="blue"><mn>3</mn><mo stretchy="false">!</mo></mstyle></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mn>4</mn><mo>×</mo><mn>3</mn><mo>×</mo><mstyle mathcolor="blue"><mn>2</mn><mo stretchy="false">!</mo></mstyle></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mn>4</mn><mo>×</mo><mn>3</mn><mo>×</mo><mn>2</mn><mo>×</mo><mstyle mathcolor="blue"><mn>1</mn><mo stretchy="false">!</mo></mstyle></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mn>4</mn><mo>×</mo><mn>3</mn><mo>×</mo><mn>2</mn><mo>×</mo><mn>1</mn><mo>×</mo><mstyle mathcolor="blue"><mn>0</mn><mo stretchy="false">!</mo></mstyle></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mn>4</mn><mo>×</mo><mn>3</mn><mo>×</mo><mn>2</mn><mo>×</mo><mn>1</mn><mo>×</mo><mn>1</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mo>=</mo><mn>24</mn></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned} 4! &amp;= 4 \times {\color{blue} 3!}\\ &amp;= 4 \times 3 \times {\color{blue} 2!}\\ &amp;= 4 \times 3 \times 2 \times {\color{blue} 1!}\\ &amp;= 4 \times 3 \times 2 \times 1\times {\color{blue} 0!}\\ &amp;= 4 \times 3 \times 2 \times 1\times 1 &amp;= 24 \end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 7.5em; vertical-align: -3.5em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 4em;"><span class="" style="top: -6.16em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">4</span><span class="mclose">!</span></span></span><span class="" style="top: -4.66em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"></span></span><span class="" style="top: -3.16em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"></span></span><span class="" style="top: -1.66em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"></span></span><span class="" style="top: -0.16em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 3.5em;"><span class=""></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 4em;"><span class="" style="top: -6.16em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mord">4</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mord"><span class="mord" style="color: blue;">3</span><span class="mclose" style="color: blue;">!</span></span></span></span><span class="" style="top: -4.66em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mord">4</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mord">3</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mord"><span class="mord" style="color: blue;">2</span><span class="mclose" style="color: blue;">!</span></span></span></span><span class="" style="top: -3.16em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mord">4</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mord">3</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mord">2</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mord"><span class="mord" style="color: blue;">1</span><span class="mclose" style="color: blue;">!</span></span></span></span><span class="" style="top: -1.66em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mord">4</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mord">3</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mord">2</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mord"><span class="mord" style="color: blue;">0</span><span class="mclose" style="color: blue;">!</span></span></span></span><span class="" style="top: -0.16em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mord">4</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mord">3</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mord">2</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 3.5em;"><span class=""></span></span></span></span></span><span class="arraycolsep" style="width: 1em;"></span><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"><span class="" style="top: -0.16em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mord">24</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 3.5em;"><span class=""></span></span></span></span></span></span></span></span></span></span></span></div><p></p>
<p>In this example, we can also see the important property here that the recursive
case reduces us down toward a base case, in the sense that for any value <span class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathnormal">n</span></span></span></span></span> we
want to compute the factorial of, the <span class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">!</mo></mrow><annotation encoding="application/x-tex">(n-1)!</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">)!</span></span></span></span></span> is applying the factorial
definition to a value that is closer to our base case of <span class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">n=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">0</span></span></span></span></span>.  In this way,
we can rest assured that for any nonnegative integer <span class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathnormal">n</span></span></span></span></span>, this process will
eventually reach a base case, at which point we can find our overall answer.</p>
<h4>Programming</h4>
<p>It turns out that Python lets us define functions recursively (i.e., we can
define functions in terms of themselves).  As an example, here is a Python
implementation of the definition of factorial from above (note that it is almost
an exact translation):</p>
<pre><code class="language-python hljs"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">factorial</span>(<span class="hljs-params">n</span>):</span>
    <span class="hljs-keyword">if</span> n == <span class="hljs-number">0</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">return</span> n * factorial(n<span class="hljs-number">-1</span>)
</code></pre>
<p>We could try to write this more concisely, but this is a nice form to
demonstrate how this definition parallels the mathematical definition from
above.  There are some key things to notice here:</p>
<ol>
<li>
<p>This is a recursive definition, since computing <code>factorial</code> depends on the
definition of <code>factorial</code> (i.e., the function calls <em>itself</em> in the process of
computing its result in some cases).</p>
</li>
<li>
<p>We have one base case.  When <code>n == 0</code>, we can compute the result without any recursion.</p>
</li>
<li>
<p>We have one recursive case, which reduces down toward a base case.</p>
</li>
</ol>
<p>Before we move on to the details of how this works in Python, it's worth mentioning
again that, depending on the extent of your prior exposure to these ideas, it may
feel uncomfortable writing a function like this.  And a big part of the
weirdness here is that as we're writing <code>factorial</code>, we're using <code>factorial</code> as
part of the body, despite the fact that <em>we've not finished writing <code>factorial</code>
yet!</em>  But the right strategy is to write your recursive case(s) <em>under the
assumption that you have a complete, working version of the function</em>, and to
think about, under those conditions, how would I take the result from that
recursive call and combine it with other things to produce the result I'm
interested in?  And we don't need to have blind faith here; if we've designed
things such that we have our base cases set up, and such that our recursive
calls are working down toward one of those bases cases, then things will work
out for us.</p>
<p>Another source of weirdness here is that in the process of evaluating some call
to <code>factorial</code>, I'm going to need to call <code>factorial</code> again and maybe many
times; and each of these calls has its own value of <code>n</code>.  So, how can we be
sure that Python is going to keep those things separate and not get confused?</p>
<h5>Recursion in the Environment Model</h5>
<p>Importantly, Python <em>is</em> able to keep those things separate, and its ability to
do so is a natural effect of our normal rules for function evaluation (that is,
Python does not treat recursive functions any differently from nonrecursive
functions).  Let's take a look at how this plays out using an environment
diagram below, for evaluating <code>factorial(3)</code>.  To start with, <strong>only proceed
through step 5 below, and then answer the following question:</strong></p>
<p>
<!--START question env1 -->
</p><div class="question question-multiplechoice" id="cs_qdiv_env1" style="position: static">
<div id="env1_rendered_question">
Moving from step 5 to step 6 in the environment diagram below, where will <span class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">F_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>'s parent pointer go?<br>
<select id="env1" name="env1">
<option selected="" value="-1">--</option>
<option value="0">Global Frame</option>
<option value="1">F1</option>
<option value="2">Built-ins</option>
<option value="3">Somewhere else.</option></select>
</div><div>
<span id="env1_buttons"></span>
<span id="env1_loading_wrapper">
<span id="env1_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="></span>
</span>
<span id="env1_score_display"></span>
<div class="nsubmits_left" id="env1_nsubmits_left"></div></div>
<div id="env1_solution_container">
<div id="env1_solution">
</div>
<div id="env1_solution_explanation">
</div>
</div>
<div id="env1_message"></div>
</div>
<!--END question env1 -->
<p></p>
<div class="response">
<center>
<img id="ex1_image" width="600/" src="./Pre-Lecture 3_ Recursion_files/env2.jpg">
</center>
<div id="ex1_buttons" style="text-align:center;">
<button id="ex1_first">&lt;&lt; First Step</button>&nbsp;
<button id="ex1_back">&lt; Previous Step</button>&nbsp;
<button id="ex1_next">Next Step &gt;</button>
<button id="ex1_last">Last Step &gt;&gt;</button>
</div>
<div id="ex1_explanation" style="width:100%;"><b>STEP 1</b><br>Here we have a diagram with two pieces: on the right-hand side, we have
an environment diagram; and on the left-hand side, we have space to keep track of
the expression we're evaluating.  On the right-hand side, we see what the environment
diagram looks like after executing the function definition from above, and on the
left, we see the expression we are going to evaluate (<code>factorial(3)</code>),
evaluated in the global frame (<b>GF</b>).
<p>In order to perform this function call, we follow our usual steps.  The first
step is to figure out what function we're calling (in this case, evaluating the
name <code>factorial</code> to find the function object on the right), as well
as the arguments to the function (in this case, an integer <code>3</code>).
The results are shown on the next diagram.</p></div>
</div>
<p><script type="text/javascript">
var images_ex1 = new Array();
var explanations_ex1 = new Array();
var curix_ex1 = 0;
images_ex1[0] = 'https://py.mit.edu/_static/spring22/pre_lecture/lec03/env2.jpg';
explanations_ex1[0] = "<b>STEP 1</b><br/>Here we have a diagram with two pieces: on the right-hand side, we have\nan environment diagram; and on the left-hand side, we have space to keep track of\nthe expression we're evaluating.  On the right-hand side, we see what the environment\ndiagram looks like after executing the function definition from above, and on the\nleft, we see the expression we are going to evaluate (<code>factorial(3)</code>),\nevaluated in the global frame (<b>GF</b>).\n<p>In order to perform this function call, we follow our usual steps.  The first\nstep is to figure out what function we're calling (in this case, evaluating the\nname <code>factorial</code> to find the function object on the right), as well\nas the arguments to the function (in this case, an integer <code>3</code>).\nThe results are shown on the next diagram.</p>";
images_ex1[1] = 'https://py.mit.edu/_static/spring22/pre_lecture/lec03/env3.jpg';
explanations_ex1[1] = '<b>STEP 2</b><br/>Notice that we now have a new integer <code>3</code> to work with.  Our next\nstep is to set up a new frame for this function call, the result of which is shown\non the next diagram.';
images_ex1[2] = 'https://py.mit.edu/_static/spring22/pre_lecture/lec03/env4.jpg';
explanations_ex1[2] = "<b>STEP 3</b><br/>Here we have our new frame (<b>F1</b>, which I've also labeled with some\ninformation about the function we're calling there).  Notice that we have given\nit a parent pointer (to the enclosing frame of the function we're calling), and\nwe've associated the name <code>n</code> with the argument <code>3</code> inside of <b>F1</b>.\n<p>With our new frame set up, we can now proceeed with evaluating the body of\nthe function with respect to <b>F1</b>.</p>";
images_ex1[3] = 'https://py.mit.edu/_static/spring22/pre_lecture/lec03/env5.jpg';
explanations_ex1[3] = "<b>STEP 4</b><br/>Evaluating the body, we start by checking <code>if n==0</code>.  We evaluate <code>n</code> in\n<b>F1</b> (finding the associated <code>3</code>), which is not equal to <code>0</code>, so we move\non and hit <code>return n * factorial(n-1)</code>.\n<p>This is a complicated expression, but ultimately we need to multiply two things together: the integer <code>3</code> (which we get by evaluating the name <code>n</code> in <b>F1</b>) and the result of the function call <code>factorial(n-1)</code>.</p>\n<p>In order to evaluate that function call, we need to evaluate the name\n<code>factorial</code> in <b>F1</b> in order to figure out what function to call.  Here,\nwe don't find the name <code>factorial</code> in <b>F1</b>, so we follow its parent\npointer to the global frame, where we find <code>factorial</code> bound to the\nfunction object at the top of the diagram; so that's the function we'll\ncall!</p>\n<p>Then we also need to determine the argument to this function call, which we\ndo by evaluating <code>n-1</code> with respect to <b>F1</b>.  If we're being\npedantic, Python first evaluates <code>n</code> (finding <code>3</code>), then\nevaluates <code>1</code> (which makes a new integer <code>1</code>), then\nsubtracts them to get a new integer <code>2</code>.</p>\n<p>Once we know what function we're calling (the only function object drawn in\nthe diagram) and what arguments to pass in (<code>2</code>), we can set up our new frame.\nThe next slide shows the <i>almost-complete</i> result of that step.\n</p>";
images_ex1[4] = 'https://py.mit.edu/_static/spring22/pre_lecture/lec03/env6.jpg';
explanations_ex1[4] = "<b>STEP 5</b><br/>Here we have the result of setting up that new frame but with one key piece\nmissing: our new frame's parent pointer.\n<p><b>STOP HERE FOR A MOMENT AND ANSWER THE QUESTION ABOVE THE DIAGRAM BEFORE MOVING ON.</b></p>";
images_ex1[5] = 'https://py.mit.edu/_static/spring22/pre_lecture/lec03/env7.jpg';
explanations_ex1[5] = "<b>STEP 6</b><br/>Here is where we need to be somewhat careful about the rules for function\napplication!  Recall that when we make a new frame for a function call, the new\nframe's parent pointer goes to <i>the function's enclosing frame</i> (i.e., the\nframe where that function object was defined).\n<p>\nImportantly, that is true regardless of what frame we're <i>calling</i> the function\nfrom.  That is, what matters for this rule is the frame where the function was\ndefined, not the frame from which it is being called.\n</p>";
images_ex1[6] = 'https://py.mit.edu/_static/spring22/pre_lecture/lec03/env8.jpg';
explanations_ex1[6] = "<b>STEP 7</b><br/>Now that we've got our frame completely set up, we can proceed with\nevaluating the body of the function inside of <b>F2</b>.\n<p>Evaluating the body, we first check <code>n==0</code> and find that that\ncondition does not hold, so we move on and evaluate <code>return n *\nfactorial(n-1)</code> with respect to <b>F2</b>.</p>\n<p>Evaluating that multiplication, we find <code>n</code> bound to\n<code>2</code>, and in order to figure out what to multiply by, we need to\nevaluate <code>factorial(n-1)</code>.  It's another function call!  So we\nproceed with our same steps.</p>\n<p>We start by figuring out what function we're calling and what arguments\nwe're passing in.  We find the function by evaluating the name\n<code>factorial</code> in <b>F2.  Since we don't find it there, we follow\nthe parent pointer to the global frame, where we find the function object drawn\nat the top of the diagram.</b></p>\n<p>Then, evaluating <code>n-1</code> in <b>F2</b>, we get <code>1</code>.  So\nnow that we have our function and our arguments, we can proceed with following\nour normal sequence of steps (setting up a new frame (with parent pointer),\nbinding the parameters to the arguments that were passed in, and evaluating the\nbody of the function in that new frame).</p>\n<p><b>You may wish to pause here and try to draw the result of setting up the\nnext frame for yourself.  Where should its parent pointer go?  What names\nshould be bound in it, and to what objects are they bound?  What will be the\nresult of evaluating the body of the function in this new frame?</b></p>";
images_ex1[7] = 'https://py.mit.edu/_static/spring22/pre_lecture/lec03/env9.jpg';
explanations_ex1[7] = "<b>STEP 8</b><br/>Here we see the result we arrive at after setting up our new frame\n<b>F3</b>.  Notice that its parent frame is <b>GF</b> and that the name\n<code>n</code> is bound to the value <code>1</code>.\n<p>When we evaluate the body of the function in <b>F3</b>, we first check\n<code>n==0</code>, and, since that evauates to <code>False</code>, we continue\non to evaluating <code>n * factorial(n-1)</code> in <b>F3</b>.  Here we have to\nevaluate another function call, calling the same function but now with\n<code>0</code> passed in.  So we'll set up another frame, shown on the next\nstep.</p>";
images_ex1[8] = 'https://py.mit.edu/_static/spring22/pre_lecture/lec03/env10.jpg';
explanations_ex1[8] = "<b>STEP 9</b><br/>Notice that our new frame (which we'll call <b>F4</b> even though I forgot\nto write that label next to it above) has the global frame as its parent, and\nit has the name <code>n</code> bound to <code>0</code>.  This has admittedly been\na somewhat tedious process, but we've now arrived at a base case, and something\nvery exciting is about to happen!; let's see what happens when we evaluate the\nbody of the function in <b>F4</b>.";
images_ex1[9] = 'https://py.mit.edu/_static/spring22/pre_lecture/lec03/env11.jpg';
explanations_ex1[9] = "<b>STEP 10</b><br/>Here, we first check <code>if n == 0</code>, and, finally, it does!  So we\nevaluate <code>1</code> in <b>F4</b> to get a new integer object, which we\nreturn.\n<p>But this was just the return from our most recent function call!  Let's\nremember how we got here.  We were evaluating <code>n * factorial(n-1)</code>\nin <b>F3</b>.  So now we can go back and finish that computation, taking the\nresult of our recursive call (<code>1</code>) and multiplying it by\n<code>1</code> to get our result.</p>";
images_ex1[10] = 'https://py.mit.edu/_static/spring22/pre_lecture/lec03/env12.jpg';
explanations_ex1[10] = "<b>STEP 11</b><br/>\nNotice that we're returning <code>1</code> from the function call that created\n<b>F3</b>.  But how did we get <i>there</i>?  We were evaluating <code>n *\nfactorial(n-1)</code> in <b>F2</b>!  So we can take this result (<code>1</code>)\nand combine it with the <code>2</code> from before to get the return value from\n<b>F2</b>!\n";
images_ex1[11] = 'https://py.mit.edu/_static/spring22/pre_lecture/lec03/env13.jpg';
explanations_ex1[11] = '<b>STEP 12</b><br/>And now that we know <i>this</i> value, we can combine it with our\n<code>3</code> to get the overall result from <b>F1</b> (from our original\nfunction call).\n';
images_ex1[12] = 'https://py.mit.edu/_static/spring22/pre_lecture/lec03/env14.jpg';
explanations_ex1[12] = '<b>STEP 13</b><br/>And, finally, we have found the result of our original call!  And the very last step is to clean up <b>F1</b>.';
images_ex1[13] = 'https://py.mit.edu/_static/spring22/pre_lecture/lec03/env15.jpg';
explanations_ex1[13] = "<b>STEP 14</b><br/>This was quite a process, but hopefully it was helpful to walk through the\nsteps here to see how things were working themselves out as this program ran.  Of course, if you have questions about this process, please don't hesitate to ask them!";
function update_ex1_buttons(){
    document.getElementById("ex1_image").src = images_ex1[curix_ex1];
    document.getElementById("ex1_explanation").innerHTML = explanations_ex1[curix_ex1];
}
update_ex1_buttons();
document.getElementById("ex1_back").onclick = function(){
curix_ex1--;
if(curix_ex1 < 0) curix_ex1 = 0;
update_ex1_buttons();
}
document.getElementById("ex1_next").onclick = function(){
curix_ex1++;
if(curix_ex1 >= images_ex1.length) curix_ex1 = images_ex1.length-1;
update_ex1_buttons();
}
document.getElementById("ex1_last").onclick = function(){
curix_ex1 = images_ex1.length-1;
update_ex1_buttons();
}
document.getElementById("ex1_first").onclick = function(){
curix_ex1 = 0;
update_ex1_buttons();
}
</script></p>
<p>
<!--START question q000000 -->
</p><div class="question question-pythonic" id="cs_qdiv_q000000" style="position: static">
<div id="q000000_rendered_question">
As a follow-on question, with factorial written as above, how many total frames (other than the global frame and the built-ins) are created when we call <code>factorial(7)</code>?<br><input id="q000000" name="q000000" size="50" type="text" value="">
</div><div>
<span id="q000000_buttons"></span>
<span id="q000000_loading_wrapper">
<span id="q000000_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="></span>
</span>
<span id="q000000_score_display"></span>
<div class="nsubmits_left" id="q000000_nsubmits_left"></div></div>
<div id="q000000_solution_container">
<div id="q000000_solution">
</div>
<div id="q000000_solution_explanation">
</div>
</div>
<div id="q000000_message"></div>
</div>
<!--END question q000000 -->
<p></p>
<h4>Primer: Recursion versus Iteration</h4>
<p>Now, it's worth mentioning that, while the process above involved recursion,
we could have computed factorials iteratively instead.  Mathematically, we could
have used either of the following definitions of factorial (note that the
second one isn't recursive!):</p>
<p></p><div class="cs_displaymath" style="text-align:center;padding-bottom:10px;"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>n</mi><mo stretchy="false">!</mo><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.3600em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>if&nbsp;</mtext><mi>n</mi><mo>=</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>n</mi><mo>×</mo><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">!</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>otherwise</mtext></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">n! = \begin{cases} 1 &amp; \text{if}~n=0\\ n\times (n-1)! &amp; \text{otherwise} \end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.69444em; vertical-align: 0em;"></span><span class="mord mathnormal">n</span><span class="mclose">!</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 3.00003em; vertical-align: -1.25003em;"></span><span class="minner"><span class="mopen delimcenter" style="top: 0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.69em;"><span class="" style="top: -3.69em;"><span class="pstrut" style="height: 3.008em;"></span><span class="mord"><span class="mord">1</span></span></span><span class="" style="top: -2.25em;"><span class="pstrut" style="height: 3.008em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mord">1</span><span class="mclose">)!</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.19em;"><span class=""></span></span></span></span></span><span class="arraycolsep" style="width: 1em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.69em;"><span class="" style="top: -3.69em;"><span class="pstrut" style="height: 3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">if</span></span><span class="mspace nobreak">&nbsp;</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mord">0</span></span></span><span class="" style="top: -2.25em;"><span class="pstrut" style="height: 3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">otherwise</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.19em;"><span class=""></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></div><p></p>
<p>or</p>
<p></p><div class="cs_displaymath" style="text-align:center;padding-bottom:10px;"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>n</mi><mo stretchy="false">!</mo><mo>=</mo><munderover><mo>∏</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><mi>i</mi></mrow><annotation encoding="application/x-tex">n! = \prod_{i=1}^n i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.69444em; vertical-align: 0em;"></span><span class="mord mathnormal">n</span><span class="mclose">!</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 2.92907em; vertical-align: -1.27767em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.6514em;"><span class="" style="top: -1.87233em; margin-left: 0em;"><span class="pstrut" style="height: 3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span class="" style="top: -3.05001em;"><span class="pstrut" style="height: 3.05em;"></span><span class=""><span class="mop op-symbol large-op">∏</span></span></span><span class="" style="top: -4.30001em; margin-left: 0em;"><span class="pstrut" style="height: 3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.27767em;"><span class=""></span></span></span></span></span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathnormal">i</span></span></span></span></span></div><p></p>
<p>and, in terms of code, we could have written either of the following (note that
the second is not recursive, though it computes the same result!):</p>
<pre><code class="language-python hljs"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">factorial</span>(<span class="hljs-params">n</span>):</span>
    <span class="hljs-keyword">if</span> n == <span class="hljs-number">0</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">return</span> n * factorial(n<span class="hljs-number">-1</span>)
</code></pre>
<pre><code class="language-python hljs"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">factorial</span>(<span class="hljs-params">n</span>):</span>
    out = <span class="hljs-number">1</span>
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">1</span>, n+<span class="hljs-number">1</span>):
        out *= i
    <span class="hljs-keyword">return</span> out
</code></pre>
<div class="question"><b>Check Yourself:</b><p>Before lecture, try to think about these two programs as written (and maybe
even try them out!).  What are the benefits and drawbacks of each approach?</p><p><span id="queue_checkyourself_1"></span></p></div>
<hr>
<p>See you all in lecture on Monday!  Of course, if you have questions about any
of these notes or examples before then, please let us know!</p>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
catsoop.all_questions = ['env1', 'q000000'];
catsoop.username = null;
catsoop.this_path = 'https://py.mit.edu/spring22/pre_lecture/lec03';
catsoop.path_info = ['spring22', 'pre_lecture', 'lec03'];
catsoop.course = 'spring22';
catsoop.url_root = 'https://py.mit.edu';
catsoop.imp = '';
catsoop.skip_alert = [];
catsoop.viewans_confirm = "Are you sure?  Viewing the answer will prevent any further submissions to this question.  Press 'OK' to view the answer, or press 'Cancel' if you have changed your mind.";

// @license-end</script>
</div>
</div>
<div class="cs_right_menu"></div>
</main>
<footer>
<div class="cs_navigation cs_bottom_navigation" id="cs_bottom_navigation"><span class="line"><a href="https://py.mit.edu/spring22">Home</a></span> <span class="cs_nav_separator">/</span> <span class="line"><a href="https://py.mit.edu/spring22/pre_lecture/lec03">Pre-Lecture 3: Recursion</a></span></div>
<div class="cs_footer">
      This page was last updated on Thursday February 17, 2022 at 10:13:37 PM (revision <code>3b4132743</code>).<br>&nbsp;<br>
<pre class="catsooplogo" style="font-size:50%;">\            
/    /\__/\  
\__=(  o_O )=
(__________) 
 |_ |_ |_ |_ </pre>
      Powered by <a href="https://catsoop.mit.edu/" target="_blank">CAT-SOOP</a> v2022.2.0.dev19 "Highlander" (development snapshot).<br>
      CAT-SOOP is <a href="https://www.fsf.org/about/what-is-free-software" target="_blank">Free/Libre Software</a>, available under the terms<br>of the <a href="https://py.mit.edu/_util/license" target="_blank">GNU Affero General Public License, version 3</a>.<br>
<a download="" href="https://py.mit.edu/_util/source.zip" target="_blank">Download Source Code</a><br>
<a href="https://py.mit.edu/_util/jslicense.html" rel="jslicense" target="_blank">Javascript License Information</a>
</div>
</footer>



</body></html>